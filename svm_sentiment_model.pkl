{
 "cells": [
  {
   "cell_type": "code",
   "execution_count": 67,
   "id": "03055299-2eed-42af-993d-704c8551f067",
   "metadata": {},
   "outputs": [],
   "source": [
    "import zipfile\n",
    "import os\n",
    "import pandas as pd\n",
    "\n"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 68,
   "id": "7355c26d-925f-4b47-9031-3d05bd0f319e",
   "metadata": {},
   "outputs": [],
   "source": [
    "zip_path = \"sentiment dataset.zip\"\n",
    "extract_path = \"data/\"\n",
    "\n",
    "with zipfile.ZipFile(zip_path, 'r') as zip_ref:\n",
    "    zip_ref.extractall(extract_path)\n"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 69,
   "id": "f136d7e0-bc00-4d97-a956-61d9e57e3bc6",
   "metadata": {},
   "outputs": [
    {
     "name": "stdout",
     "output_type": "stream",
     "text": [
      "Extracted files: ['Dataset-SA.csv']\n"
     ]
    }
   ],
   "source": [
    "print(\"Extracted files:\", os.listdir(extract_path))\n"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 70,
   "id": "3fcf4b6b-7775-4587-8129-6f1355311ada",
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/html": [
       "<div>\n",
       "<style scoped>\n",
       "    .dataframe tbody tr th:only-of-type {\n",
       "        vertical-align: middle;\n",
       "    }\n",
       "\n",
       "    .dataframe tbody tr th {\n",
       "        vertical-align: top;\n",
       "    }\n",
       "\n",
       "    .dataframe thead th {\n",
       "        text-align: right;\n",
       "    }\n",
       "</style>\n",
       "<table border=\"1\" class=\"dataframe\">\n",
       "  <thead>\n",
       "    <tr style=\"text-align: right;\">\n",
       "      <th></th>\n",
       "      <th>product_name</th>\n",
       "      <th>product_price</th>\n",
       "      <th>Rate</th>\n",
       "      <th>Review</th>\n",
       "      <th>Summary</th>\n",
       "      <th>Sentiment</th>\n",
       "    </tr>\n",
       "  </thead>\n",
       "  <tbody>\n",
       "    <tr>\n",
       "      <th>0</th>\n",
       "      <td>Candes 12 L Room/Personal Air Cooler??????(Whi...</td>\n",
       "      <td>3999</td>\n",
       "      <td>5</td>\n",
       "      <td>super!</td>\n",
       "      <td>great cooler excellent air flow and for this p...</td>\n",
       "      <td>positive</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>1</th>\n",
       "      <td>Candes 12 L Room/Personal Air Cooler??????(Whi...</td>\n",
       "      <td>3999</td>\n",
       "      <td>5</td>\n",
       "      <td>awesome</td>\n",
       "      <td>best budget 2 fit cooler nice cooling</td>\n",
       "      <td>positive</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>2</th>\n",
       "      <td>Candes 12 L Room/Personal Air Cooler??????(Whi...</td>\n",
       "      <td>3999</td>\n",
       "      <td>3</td>\n",
       "      <td>fair</td>\n",
       "      <td>the quality is good but the power of air is de...</td>\n",
       "      <td>positive</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>3</th>\n",
       "      <td>Candes 12 L Room/Personal Air Cooler??????(Whi...</td>\n",
       "      <td>3999</td>\n",
       "      <td>1</td>\n",
       "      <td>useless product</td>\n",
       "      <td>very bad product its a only a fan</td>\n",
       "      <td>negative</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>4</th>\n",
       "      <td>Candes 12 L Room/Personal Air Cooler??????(Whi...</td>\n",
       "      <td>3999</td>\n",
       "      <td>3</td>\n",
       "      <td>fair</td>\n",
       "      <td>ok ok product</td>\n",
       "      <td>neutral</td>\n",
       "    </tr>\n",
       "  </tbody>\n",
       "</table>\n",
       "</div>"
      ],
      "text/plain": [
       "                                        product_name product_price Rate  \\\n",
       "0  Candes 12 L Room/Personal Air Cooler??????(Whi...          3999    5   \n",
       "1  Candes 12 L Room/Personal Air Cooler??????(Whi...          3999    5   \n",
       "2  Candes 12 L Room/Personal Air Cooler??????(Whi...          3999    3   \n",
       "3  Candes 12 L Room/Personal Air Cooler??????(Whi...          3999    1   \n",
       "4  Candes 12 L Room/Personal Air Cooler??????(Whi...          3999    3   \n",
       "\n",
       "            Review                                            Summary  \\\n",
       "0           super!  great cooler excellent air flow and for this p...   \n",
       "1          awesome              best budget 2 fit cooler nice cooling   \n",
       "2             fair  the quality is good but the power of air is de...   \n",
       "3  useless product                  very bad product its a only a fan   \n",
       "4             fair                                      ok ok product   \n",
       "\n",
       "  Sentiment  \n",
       "0  positive  \n",
       "1  positive  \n",
       "2  positive  \n",
       "3  negative  \n",
       "4   neutral  "
      ]
     },
     "execution_count": 70,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "import pandas as pd\n",
    "\n",
    "df = pd.read_csv(\"data/Dataset-SA.csv\")   # note the 'data/' prefix\n",
    "df.head()\n"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 71,
   "id": "231a6681-16c8-4916-bff7-d0ed5b36ecce",
   "metadata": {},
   "outputs": [
    {
     "name": "stdout",
     "output_type": "stream",
     "text": [
      "Index(['product_name', 'product_price', 'Rate', 'Review', 'Summary',\n",
      "       'Sentiment'],\n",
      "      dtype='object')\n"
     ]
    },
    {
     "data": {
      "text/html": [
       "<div>\n",
       "<style scoped>\n",
       "    .dataframe tbody tr th:only-of-type {\n",
       "        vertical-align: middle;\n",
       "    }\n",
       "\n",
       "    .dataframe tbody tr th {\n",
       "        vertical-align: top;\n",
       "    }\n",
       "\n",
       "    .dataframe thead th {\n",
       "        text-align: right;\n",
       "    }\n",
       "</style>\n",
       "<table border=\"1\" class=\"dataframe\">\n",
       "  <thead>\n",
       "    <tr style=\"text-align: right;\">\n",
       "      <th></th>\n",
       "      <th>product_name</th>\n",
       "      <th>product_price</th>\n",
       "      <th>Rate</th>\n",
       "      <th>Review</th>\n",
       "      <th>Summary</th>\n",
       "      <th>Sentiment</th>\n",
       "    </tr>\n",
       "  </thead>\n",
       "  <tbody>\n",
       "    <tr>\n",
       "      <th>0</th>\n",
       "      <td>Candes 12 L Room/Personal Air Cooler??????(Whi...</td>\n",
       "      <td>3999</td>\n",
       "      <td>5</td>\n",
       "      <td>super!</td>\n",
       "      <td>great cooler excellent air flow and for this p...</td>\n",
       "      <td>positive</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>1</th>\n",
       "      <td>Candes 12 L Room/Personal Air Cooler??????(Whi...</td>\n",
       "      <td>3999</td>\n",
       "      <td>5</td>\n",
       "      <td>awesome</td>\n",
       "      <td>best budget 2 fit cooler nice cooling</td>\n",
       "      <td>positive</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>2</th>\n",
       "      <td>Candes 12 L Room/Personal Air Cooler??????(Whi...</td>\n",
       "      <td>3999</td>\n",
       "      <td>3</td>\n",
       "      <td>fair</td>\n",
       "      <td>the quality is good but the power of air is de...</td>\n",
       "      <td>positive</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>3</th>\n",
       "      <td>Candes 12 L Room/Personal Air Cooler??????(Whi...</td>\n",
       "      <td>3999</td>\n",
       "      <td>1</td>\n",
       "      <td>useless product</td>\n",
       "      <td>very bad product its a only a fan</td>\n",
       "      <td>negative</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>4</th>\n",
       "      <td>Candes 12 L Room/Personal Air Cooler??????(Whi...</td>\n",
       "      <td>3999</td>\n",
       "      <td>3</td>\n",
       "      <td>fair</td>\n",
       "      <td>ok ok product</td>\n",
       "      <td>neutral</td>\n",
       "    </tr>\n",
       "  </tbody>\n",
       "</table>\n",
       "</div>"
      ],
      "text/plain": [
       "                                        product_name product_price Rate  \\\n",
       "0  Candes 12 L Room/Personal Air Cooler??????(Whi...          3999    5   \n",
       "1  Candes 12 L Room/Personal Air Cooler??????(Whi...          3999    5   \n",
       "2  Candes 12 L Room/Personal Air Cooler??????(Whi...          3999    3   \n",
       "3  Candes 12 L Room/Personal Air Cooler??????(Whi...          3999    1   \n",
       "4  Candes 12 L Room/Personal Air Cooler??????(Whi...          3999    3   \n",
       "\n",
       "            Review                                            Summary  \\\n",
       "0           super!  great cooler excellent air flow and for this p...   \n",
       "1          awesome              best budget 2 fit cooler nice cooling   \n",
       "2             fair  the quality is good but the power of air is de...   \n",
       "3  useless product                  very bad product its a only a fan   \n",
       "4             fair                                      ok ok product   \n",
       "\n",
       "  Sentiment  \n",
       "0  positive  \n",
       "1  positive  \n",
       "2  positive  \n",
       "3  negative  \n",
       "4   neutral  "
      ]
     },
     "execution_count": 71,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "import pandas as pd\n",
    "\n",
    "df = pd.read_csv(\"data/Dataset-SA.csv\")\n",
    "print(df.columns)\n",
    "df.head()\n"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 72,
   "id": "062ea2e7-e97c-4204-bfb7-add75c05d998",
   "metadata": {},
   "outputs": [],
   "source": [
    "X = df[['Review', 'Summary', 'Rate', 'product_price', 'product_name']]\n",
    "y = df['Sentiment']   \n"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 73,
   "id": "33e56b4d-67c8-4e31-abf8-f898b3c7a8fa",
   "metadata": {},
   "outputs": [
    {
     "name": "stdout",
     "output_type": "stream",
     "text": [
      "Missing values in Sentiment: 0\n"
     ]
    }
   ],
   "source": [
    "print(\"Missing values in Sentiment:\", df['Sentiment'].isnull().sum())\n"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 74,
   "id": "d2c5e910-86bb-40bd-a83b-a9ed21e88a5d",
   "metadata": {},
   "outputs": [
    {
     "name": "stdout",
     "output_type": "stream",
     "text": [
      "Duplicate rows in dataset: 34375\n",
      "Duplicate values in Sentiment column: 205049\n"
     ]
    }
   ],
   "source": [
    "print(\"Duplicate rows in dataset:\", df.duplicated().sum())\n",
    "\n",
    "# Check duplicate rows only in target column\n",
    "print(\"Duplicate values in Sentiment column:\", df['Sentiment'].duplicated().sum())\n"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 75,
   "id": "3aaf6d9b-ac12-4070-a4bc-1967479cbcfc",
   "metadata": {},
   "outputs": [
    {
     "name": "stdout",
     "output_type": "stream",
     "text": [
      "Original dataset size: 205052\n",
      "Cleaned dataset size: 170677\n",
      "Duplicates removed: 34375\n"
     ]
    }
   ],
   "source": [
    "# Remove duplicate rows across all columns\n",
    "df_clean = df.drop_duplicates()\n",
    "\n",
    "# Reset index after dropping\n",
    "df_clean = df_clean.reset_index(drop=True)\n",
    "\n",
    "print(\"Original dataset size:\", len(df))\n",
    "print(\"Cleaned dataset size:\", len(df_clean))\n",
    "print(\"Duplicates removed:\", len(df) - len(df_clean))"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 76,
   "id": "41386756-65d8-42dd-b2b4-94dc670ae4d8",
   "metadata": {},
   "outputs": [
    {
     "name": "stdout",
     "output_type": "stream",
     "text": [
      "Sentiment\n",
      "positive    134701\n",
      "negative     26473\n",
      "neutral       9503\n",
      "Name: count, dtype: int64\n"
     ]
    }
   ],
   "source": [
    "print(df_clean['Sentiment'].value_counts())\n"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 77,
   "id": "ba550678-5d77-4ada-a304-ab1221caa580",
   "metadata": {},
   "outputs": [],
   "source": [
    "from sklearn.model_selection import train_test_split\n",
    "\n",
    "X_train, X_test, y_train, y_test = train_test_split(\n",
    "    X, y, test_size=0.3, stratify=y, random_state=42\n",
    ")\n"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 78,
   "id": "153d0c82-580d-4230-9668-7153f700fe03",
   "metadata": {},
   "outputs": [],
   "source": [
    "from sklearn.linear_model import LogisticRegression\n",
    "clf = LogisticRegression(class_weight='balanced')\n"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 79,
   "id": "1fb75305-0019-4174-a858-28095f20f7bf",
   "metadata": {},
   "outputs": [],
   "source": [
    "df_clean['Review'] = df_clean['Review'].astype(str).str.lower().str.strip()\n",
    "df_clean['Summary'] = df_clean['Summary'].astype(str).str.lower().str.strip()\n"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 80,
   "id": "66ad9b16-c3e8-4104-b008-3e52628f4ea7",
   "metadata": {},
   "outputs": [],
   "source": [
    "from sklearn.model_selection import train_test_split\n",
    "\n",
    "X = df_clean[['Review', 'Summary', 'Rate', 'product_price', 'product_name']]\n",
    "y = df_clean['Sentiment']\n",
    "\n",
    "X_train, X_test, y_train, y_test = train_test_split(\n",
    "    X, y, test_size=0.3, stratify=y, random_state=42\n",
    ")\n"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 81,
   "id": "2ade74a6-5b69-4475-8c4a-afceb35db406",
   "metadata": {},
   "outputs": [],
   "source": [
    "from sklearn.feature_extraction.text import TfidfVectorizer\n",
    "from sklearn.preprocessing import StandardScaler, OneHotEncoder\n",
    "from sklearn.compose import ColumnTransformer\n",
    "\n",
    "preprocessor = ColumnTransformer([\n",
    "    ('review_tfidf', TfidfVectorizer(max_features=10000, ngram_range=(1,2)), 'Review'),\n",
    "    ('summary_tfidf', TfidfVectorizer(max_features=3000, ngram_range=(1,2)), 'Summary'),\n",
    "    ('num', StandardScaler(), ['Rate', 'product_price']),\n",
    "    ('product', OneHotEncoder(handle_unknown='ignore'), ['product_name'])\n",
    "])\n"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 82,
   "id": "36b26b1c-c816-48e5-9694-28e088aec122",
   "metadata": {},
   "outputs": [
    {
     "name": "stdout",
     "output_type": "stream",
     "text": [
      "Index(['product_name', 'product_price', 'Rate', 'Review', 'Summary',\n",
      "       'Sentiment'],\n",
      "      dtype='object')\n"
     ]
    }
   ],
   "source": [
    "print(df_clean.columns)\n"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 83,
   "id": "fa70a3ed-bae5-4776-838a-d36530b9a1d9",
   "metadata": {},
   "outputs": [
    {
     "name": "stdout",
     "output_type": "stream",
     "text": [
      "Shape after preprocessing: (5, 68)\n",
      "Type: <class 'scipy.sparse._csr.csr_matrix'>\n"
     ]
    }
   ],
   "source": [
    "sample = X_train.head(5)\n",
    "X_transformed = preprocessor.fit_transform(sample)\n",
    "print(\"Shape after preprocessing:\", X_transformed.shape)\n",
    "print(\"Type:\", type(X_transformed))\n",
    "\n"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 84,
   "id": "78eb2ac4-ec9b-44b1-8361-302977adc184",
   "metadata": {},
   "outputs": [],
   "source": [
    "from sklearn.pipeline import Pipeline\n",
    "from sklearn.linear_model import LogisticRegression\n",
    "from sklearn.metrics import classification_report, accuracy_score\n"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 85,
   "id": "12567eda-b42c-4b65-8bd9-40e69f21512d",
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/plain": [
       "('product', OneHotEncoder(handle_unknown='ignore'), ['product_name'])"
      ]
     },
     "execution_count": 85,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "('product', OneHotEncoder(handle_unknown='ignore'), ['product_name'])\n"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 86,
   "id": "72c351d8-1734-4dce-b22b-7b07f703e965",
   "metadata": {},
   "outputs": [],
   "source": [
    "df_clean['Rate'] = pd.to_numeric(df_clean['Rate'], errors='coerce')\n",
    "df_clean['product_price'] = pd.to_numeric(df_clean['product_price'], errors='coerce')"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 87,
   "id": "ed5f9e47-db72-48d0-9e46-c8eb576c4772",
   "metadata": {},
   "outputs": [
    {
     "name": "stdout",
     "output_type": "stream",
     "text": [
      "Rate             float64\n",
      "product_price    float64\n",
      "dtype: object\n"
     ]
    }
   ],
   "source": [
    "print(df_clean[['Rate','product_price']].dtypes)\n"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 88,
   "id": "7d8b9dc0-aea9-41b8-b5c6-24e36d079f62",
   "metadata": {},
   "outputs": [],
   "source": [
    "df_clean['Rate'] = pd.to_numeric(df_clean['Rate'], errors='coerce')\n",
    "df_clean['product_price'] = pd.to_numeric(df_clean['product_price'], errors='coerce')\n"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 89,
   "id": "538e6abf-101b-4b9f-8bba-0d58069a31e3",
   "metadata": {},
   "outputs": [],
   "source": [
    "X = df_clean[['Review','Summary','Rate','product_price','product_name']]\n",
    "y = df_clean['Sentiment']\n"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 90,
   "id": "54c09f8e-5c73-4211-9d95-28af56ed82ea",
   "metadata": {},
   "outputs": [
    {
     "name": "stdout",
     "output_type": "stream",
     "text": [
      "Rate             float64\n",
      "product_price    float64\n",
      "dtype: object\n"
     ]
    }
   ],
   "source": [
    "print(df_clean[['Rate','product_price']].dtypes)\n"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 91,
   "id": "11dd203c-d687-422e-b53a-9fa11346f4d2",
   "metadata": {},
   "outputs": [],
   "source": [
    "df_clean['Rate'] = pd.to_numeric(df_clean['Rate'], errors='coerce')\n",
    "df_clean['product_price'] = pd.to_numeric(df_clean['product_price'], errors='coerce')\n"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 92,
   "id": "0863c3eb-b38b-4dec-9224-f2e6c0f405d0",
   "metadata": {},
   "outputs": [
    {
     "name": "stdout",
     "output_type": "stream",
     "text": [
      "['Review', 'Summary', 'Rate', 'product_price', 'product_name']\n"
     ]
    }
   ],
   "source": [
    "print(X_train.columns.tolist())\n"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 93,
   "id": "60d16ef4-8b71-4c1f-af64-da587d477d6d",
   "metadata": {},
   "outputs": [
    {
     "name": "stdout",
     "output_type": "stream",
     "text": [
      "Rate             object\n",
      "product_price    object\n",
      "dtype: object\n"
     ]
    }
   ],
   "source": [
    "print(X_train[['Rate','product_price']].dtypes)\n"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 94,
   "id": "6fa4d450-0037-4504-a2fa-d281cd5c02e8",
   "metadata": {},
   "outputs": [],
   "source": [
    "X = df_clean[['Review','Summary','Rate','product_price','product_name']]\n",
    "y = df_clean['Sentiment']\n"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 95,
   "id": "84a38a10-50b6-42a1-a3d6-c06aca3858f4",
   "metadata": {},
   "outputs": [],
   "source": [
    "from sklearn.model_selection import train_test_split\n",
    "X_train, X_test, y_train, y_test = train_test_split(\n",
    "    X, y, test_size=0.3, stratify=y, random_state=42\n",
    ")\n",
    "\n"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 96,
   "id": "f1f86d81-afb3-4a92-8e38-4f0510eeaa1e",
   "metadata": {},
   "outputs": [
    {
     "name": "stdout",
     "output_type": "stream",
     "text": [
      "Shape: (119473, 7218)\n",
      "Type: <class 'scipy.sparse._csr.csr_matrix'>\n"
     ]
    }
   ],
   "source": [
    "X_transformed = preprocessor.fit_transform(X_train)\n",
    "print(\"Shape:\", X_transformed.shape)\n",
    "print(\"Type:\", type(X_transformed))\n"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 97,
   "id": "114bfe6f-ae52-4940-8951-00b1aa308f35",
   "metadata": {},
   "outputs": [
    {
     "name": "stdout",
     "output_type": "stream",
     "text": [
      "product_name     0\n",
      "product_price    3\n",
      "Rate             3\n",
      "Review           0\n",
      "Summary          0\n",
      "Sentiment        0\n",
      "dtype: int64\n"
     ]
    }
   ],
   "source": [
    "print(df_clean.isnull().sum())\n"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 98,
   "id": "d7ff8497-e026-44d7-9826-b88cb4c38be2",
   "metadata": {},
   "outputs": [],
   "source": [
    "df_clean = df_clean.dropna(subset=['product_price','Rate'])\n"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 99,
   "id": "712b7362-070d-4bc4-8bad-72de78c5d28c",
   "metadata": {},
   "outputs": [],
   "source": [
    "X = df_clean[['Review','Summary','Rate','product_price','product_name']]\n",
    "y = df_clean['Sentiment']\n",
    "\n",
    "from sklearn.model_selection import train_test_split\n",
    "X_train, X_test, y_train, y_test = train_test_split(\n",
    "    X, y, test_size=0.3, stratify=y, random_state=42\n",
    ")\n"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 100,
   "id": "e98565e5-0f05-4746-9eaf-4eac2750a949",
   "metadata": {},
   "outputs": [
    {
     "name": "stdout",
     "output_type": "stream",
     "text": [
      "Logistic Regression Accuracy: 0.8963146690623597\n",
      "              precision    recall  f1-score   support\n",
      "\n",
      "    negative       0.87      0.88      0.87      7942\n",
      "     neutral       0.37      0.76      0.50      2851\n",
      "    positive       0.99      0.91      0.95     40410\n",
      "\n",
      "    accuracy                           0.90     51203\n",
      "   macro avg       0.74      0.85      0.77     51203\n",
      "weighted avg       0.93      0.90      0.91     51203\n",
      "\n"
     ]
    }
   ],
   "source": [
    "from sklearn.pipeline import Pipeline\n",
    "from sklearn.linear_model import LogisticRegression\n",
    "from sklearn.metrics import classification_report, accuracy_score\n",
    "\n",
    "logreg_pipeline = Pipeline([\n",
    "    ('prep', preprocessor),   # your tested preprocessor\n",
    "    ('clf', LogisticRegression(max_iter=2000, class_weight='balanced'))\n",
    "])\n",
    "\n",
    "logreg_pipeline.fit(X_train, y_train)\n",
    "y_pred = logreg_pipeline.predict(X_test)\n",
    "\n",
    "print(\"Logistic Regression Accuracy:\", accuracy_score(y_test, y_pred))\n",
    "print(classification_report(y_test, y_pred))\n"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 101,
   "id": "bb88a53c-4f10-4148-897e-2f3519a2e5f8",
   "metadata": {},
   "outputs": [
    {
     "name": "stdout",
     "output_type": "stream",
     "text": [
      "Training size: (800, 1)\n",
      "Test size: (200, 1)\n"
     ]
    }
   ],
   "source": [
    "df_small = df.sample(1000, random_state=42)\n",
    "\n",
    "# Define features and target\n",
    "X =  df_small.drop([\"Review\", \"Summary\", \"Rate\", \"product_price\", \"product_name\"], axis=1)\n",
    "   # replace 'label' with your target column name\n",
    "y = df_small['Sentiment']\n",
    "\n",
    "# Train-test split\n",
    "from sklearn.model_selection import train_test_split\n",
    "X_train, X_test, y_train, y_test = train_test_split(\n",
    "    X, y, test_size=0.2, random_state=42, stratify=y\n",
    ")\n",
    "\n",
    "print(\"Training size:\", X_train.shape)\n",
    "print(\"Test size:\", X_test.shape)\n"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 102,
   "id": "16d7c80d-5785-4da6-8476-973ca92bcb5a",
   "metadata": {},
   "outputs": [],
   "source": [
    "from sklearn.feature_extraction.text import TfidfVectorizer\n",
    "\n",
    "vectorizer = TfidfVectorizer(max_features=2000, stop_words='english')\n",
    "X_train_tfidf = vectorizer.fit_transform(X_train.squeeze())\n",
    "X_test_tfidf = vectorizer.transform(X_test.squeeze())\n"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 103,
   "id": "4b38c7ce-fc5d-4594-9ffe-23d59de3bc0d",
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/html": [
       "<style>#sk-container-id-2 {\n",
       "  /* Definition of color scheme common for light and dark mode */\n",
       "  --sklearn-color-text: #000;\n",
       "  --sklearn-color-text-muted: #666;\n",
       "  --sklearn-color-line: gray;\n",
       "  /* Definition of color scheme for unfitted estimators */\n",
       "  --sklearn-color-unfitted-level-0: #fff5e6;\n",
       "  --sklearn-color-unfitted-level-1: #f6e4d2;\n",
       "  --sklearn-color-unfitted-level-2: #ffe0b3;\n",
       "  --sklearn-color-unfitted-level-3: chocolate;\n",
       "  /* Definition of color scheme for fitted estimators */\n",
       "  --sklearn-color-fitted-level-0: #f0f8ff;\n",
       "  --sklearn-color-fitted-level-1: #d4ebff;\n",
       "  --sklearn-color-fitted-level-2: #b3dbfd;\n",
       "  --sklearn-color-fitted-level-3: cornflowerblue;\n",
       "\n",
       "  /* Specific color for light theme */\n",
       "  --sklearn-color-text-on-default-background: var(--sg-text-color, var(--theme-code-foreground, var(--jp-content-font-color1, black)));\n",
       "  --sklearn-color-background: var(--sg-background-color, var(--theme-background, var(--jp-layout-color0, white)));\n",
       "  --sklearn-color-border-box: var(--sg-text-color, var(--theme-code-foreground, var(--jp-content-font-color1, black)));\n",
       "  --sklearn-color-icon: #696969;\n",
       "\n",
       "  @media (prefers-color-scheme: dark) {\n",
       "    /* Redefinition of color scheme for dark theme */\n",
       "    --sklearn-color-text-on-default-background: var(--sg-text-color, var(--theme-code-foreground, var(--jp-content-font-color1, white)));\n",
       "    --sklearn-color-background: var(--sg-background-color, var(--theme-background, var(--jp-layout-color0, #111)));\n",
       "    --sklearn-color-border-box: var(--sg-text-color, var(--theme-code-foreground, var(--jp-content-font-color1, white)));\n",
       "    --sklearn-color-icon: #878787;\n",
       "  }\n",
       "}\n",
       "\n",
       "#sk-container-id-2 {\n",
       "  color: var(--sklearn-color-text);\n",
       "}\n",
       "\n",
       "#sk-container-id-2 pre {\n",
       "  padding: 0;\n",
       "}\n",
       "\n",
       "#sk-container-id-2 input.sk-hidden--visually {\n",
       "  border: 0;\n",
       "  clip: rect(1px 1px 1px 1px);\n",
       "  clip: rect(1px, 1px, 1px, 1px);\n",
       "  height: 1px;\n",
       "  margin: -1px;\n",
       "  overflow: hidden;\n",
       "  padding: 0;\n",
       "  position: absolute;\n",
       "  width: 1px;\n",
       "}\n",
       "\n",
       "#sk-container-id-2 div.sk-dashed-wrapped {\n",
       "  border: 1px dashed var(--sklearn-color-line);\n",
       "  margin: 0 0.4em 0.5em 0.4em;\n",
       "  box-sizing: border-box;\n",
       "  padding-bottom: 0.4em;\n",
       "  background-color: var(--sklearn-color-background);\n",
       "}\n",
       "\n",
       "#sk-container-id-2 div.sk-container {\n",
       "  /* jupyter's `normalize.less` sets `[hidden] { display: none; }`\n",
       "     but bootstrap.min.css set `[hidden] { display: none !important; }`\n",
       "     so we also need the `!important` here to be able to override the\n",
       "     default hidden behavior on the sphinx rendered scikit-learn.org.\n",
       "     See: https://github.com/scikit-learn/scikit-learn/issues/21755 */\n",
       "  display: inline-block !important;\n",
       "  position: relative;\n",
       "}\n",
       "\n",
       "#sk-container-id-2 div.sk-text-repr-fallback {\n",
       "  display: none;\n",
       "}\n",
       "\n",
       "div.sk-parallel-item,\n",
       "div.sk-serial,\n",
       "div.sk-item {\n",
       "  /* draw centered vertical line to link estimators */\n",
       "  background-image: linear-gradient(var(--sklearn-color-text-on-default-background), var(--sklearn-color-text-on-default-background));\n",
       "  background-size: 2px 100%;\n",
       "  background-repeat: no-repeat;\n",
       "  background-position: center center;\n",
       "}\n",
       "\n",
       "/* Parallel-specific style estimator block */\n",
       "\n",
       "#sk-container-id-2 div.sk-parallel-item::after {\n",
       "  content: \"\";\n",
       "  width: 100%;\n",
       "  border-bottom: 2px solid var(--sklearn-color-text-on-default-background);\n",
       "  flex-grow: 1;\n",
       "}\n",
       "\n",
       "#sk-container-id-2 div.sk-parallel {\n",
       "  display: flex;\n",
       "  align-items: stretch;\n",
       "  justify-content: center;\n",
       "  background-color: var(--sklearn-color-background);\n",
       "  position: relative;\n",
       "}\n",
       "\n",
       "#sk-container-id-2 div.sk-parallel-item {\n",
       "  display: flex;\n",
       "  flex-direction: column;\n",
       "}\n",
       "\n",
       "#sk-container-id-2 div.sk-parallel-item:first-child::after {\n",
       "  align-self: flex-end;\n",
       "  width: 50%;\n",
       "}\n",
       "\n",
       "#sk-container-id-2 div.sk-parallel-item:last-child::after {\n",
       "  align-self: flex-start;\n",
       "  width: 50%;\n",
       "}\n",
       "\n",
       "#sk-container-id-2 div.sk-parallel-item:only-child::after {\n",
       "  width: 0;\n",
       "}\n",
       "\n",
       "/* Serial-specific style estimator block */\n",
       "\n",
       "#sk-container-id-2 div.sk-serial {\n",
       "  display: flex;\n",
       "  flex-direction: column;\n",
       "  align-items: center;\n",
       "  background-color: var(--sklearn-color-background);\n",
       "  padding-right: 1em;\n",
       "  padding-left: 1em;\n",
       "}\n",
       "\n",
       "\n",
       "/* Toggleable style: style used for estimator/Pipeline/ColumnTransformer box that is\n",
       "clickable and can be expanded/collapsed.\n",
       "- Pipeline and ColumnTransformer use this feature and define the default style\n",
       "- Estimators will overwrite some part of the style using the `sk-estimator` class\n",
       "*/\n",
       "\n",
       "/* Pipeline and ColumnTransformer style (default) */\n",
       "\n",
       "#sk-container-id-2 div.sk-toggleable {\n",
       "  /* Default theme specific background. It is overwritten whether we have a\n",
       "  specific estimator or a Pipeline/ColumnTransformer */\n",
       "  background-color: var(--sklearn-color-background);\n",
       "}\n",
       "\n",
       "/* Toggleable label */\n",
       "#sk-container-id-2 label.sk-toggleable__label {\n",
       "  cursor: pointer;\n",
       "  display: flex;\n",
       "  width: 100%;\n",
       "  margin-bottom: 0;\n",
       "  padding: 0.5em;\n",
       "  box-sizing: border-box;\n",
       "  text-align: center;\n",
       "  align-items: start;\n",
       "  justify-content: space-between;\n",
       "  gap: 0.5em;\n",
       "}\n",
       "\n",
       "#sk-container-id-2 label.sk-toggleable__label .caption {\n",
       "  font-size: 0.6rem;\n",
       "  font-weight: lighter;\n",
       "  color: var(--sklearn-color-text-muted);\n",
       "}\n",
       "\n",
       "#sk-container-id-2 label.sk-toggleable__label-arrow:before {\n",
       "  /* Arrow on the left of the label */\n",
       "  content: \"▸\";\n",
       "  float: left;\n",
       "  margin-right: 0.25em;\n",
       "  color: var(--sklearn-color-icon);\n",
       "}\n",
       "\n",
       "#sk-container-id-2 label.sk-toggleable__label-arrow:hover:before {\n",
       "  color: var(--sklearn-color-text);\n",
       "}\n",
       "\n",
       "/* Toggleable content - dropdown */\n",
       "\n",
       "#sk-container-id-2 div.sk-toggleable__content {\n",
       "  max-height: 0;\n",
       "  max-width: 0;\n",
       "  overflow: hidden;\n",
       "  text-align: left;\n",
       "  /* unfitted */\n",
       "  background-color: var(--sklearn-color-unfitted-level-0);\n",
       "}\n",
       "\n",
       "#sk-container-id-2 div.sk-toggleable__content.fitted {\n",
       "  /* fitted */\n",
       "  background-color: var(--sklearn-color-fitted-level-0);\n",
       "}\n",
       "\n",
       "#sk-container-id-2 div.sk-toggleable__content pre {\n",
       "  margin: 0.2em;\n",
       "  border-radius: 0.25em;\n",
       "  color: var(--sklearn-color-text);\n",
       "  /* unfitted */\n",
       "  background-color: var(--sklearn-color-unfitted-level-0);\n",
       "}\n",
       "\n",
       "#sk-container-id-2 div.sk-toggleable__content.fitted pre {\n",
       "  /* unfitted */\n",
       "  background-color: var(--sklearn-color-fitted-level-0);\n",
       "}\n",
       "\n",
       "#sk-container-id-2 input.sk-toggleable__control:checked~div.sk-toggleable__content {\n",
       "  /* Expand drop-down */\n",
       "  max-height: 200px;\n",
       "  max-width: 100%;\n",
       "  overflow: auto;\n",
       "}\n",
       "\n",
       "#sk-container-id-2 input.sk-toggleable__control:checked~label.sk-toggleable__label-arrow:before {\n",
       "  content: \"▾\";\n",
       "}\n",
       "\n",
       "/* Pipeline/ColumnTransformer-specific style */\n",
       "\n",
       "#sk-container-id-2 div.sk-label input.sk-toggleable__control:checked~label.sk-toggleable__label {\n",
       "  color: var(--sklearn-color-text);\n",
       "  background-color: var(--sklearn-color-unfitted-level-2);\n",
       "}\n",
       "\n",
       "#sk-container-id-2 div.sk-label.fitted input.sk-toggleable__control:checked~label.sk-toggleable__label {\n",
       "  background-color: var(--sklearn-color-fitted-level-2);\n",
       "}\n",
       "\n",
       "/* Estimator-specific style */\n",
       "\n",
       "/* Colorize estimator box */\n",
       "#sk-container-id-2 div.sk-estimator input.sk-toggleable__control:checked~label.sk-toggleable__label {\n",
       "  /* unfitted */\n",
       "  background-color: var(--sklearn-color-unfitted-level-2);\n",
       "}\n",
       "\n",
       "#sk-container-id-2 div.sk-estimator.fitted input.sk-toggleable__control:checked~label.sk-toggleable__label {\n",
       "  /* fitted */\n",
       "  background-color: var(--sklearn-color-fitted-level-2);\n",
       "}\n",
       "\n",
       "#sk-container-id-2 div.sk-label label.sk-toggleable__label,\n",
       "#sk-container-id-2 div.sk-label label {\n",
       "  /* The background is the default theme color */\n",
       "  color: var(--sklearn-color-text-on-default-background);\n",
       "}\n",
       "\n",
       "/* On hover, darken the color of the background */\n",
       "#sk-container-id-2 div.sk-label:hover label.sk-toggleable__label {\n",
       "  color: var(--sklearn-color-text);\n",
       "  background-color: var(--sklearn-color-unfitted-level-2);\n",
       "}\n",
       "\n",
       "/* Label box, darken color on hover, fitted */\n",
       "#sk-container-id-2 div.sk-label.fitted:hover label.sk-toggleable__label.fitted {\n",
       "  color: var(--sklearn-color-text);\n",
       "  background-color: var(--sklearn-color-fitted-level-2);\n",
       "}\n",
       "\n",
       "/* Estimator label */\n",
       "\n",
       "#sk-container-id-2 div.sk-label label {\n",
       "  font-family: monospace;\n",
       "  font-weight: bold;\n",
       "  display: inline-block;\n",
       "  line-height: 1.2em;\n",
       "}\n",
       "\n",
       "#sk-container-id-2 div.sk-label-container {\n",
       "  text-align: center;\n",
       "}\n",
       "\n",
       "/* Estimator-specific */\n",
       "#sk-container-id-2 div.sk-estimator {\n",
       "  font-family: monospace;\n",
       "  border: 1px dotted var(--sklearn-color-border-box);\n",
       "  border-radius: 0.25em;\n",
       "  box-sizing: border-box;\n",
       "  margin-bottom: 0.5em;\n",
       "  /* unfitted */\n",
       "  background-color: var(--sklearn-color-unfitted-level-0);\n",
       "}\n",
       "\n",
       "#sk-container-id-2 div.sk-estimator.fitted {\n",
       "  /* fitted */\n",
       "  background-color: var(--sklearn-color-fitted-level-0);\n",
       "}\n",
       "\n",
       "/* on hover */\n",
       "#sk-container-id-2 div.sk-estimator:hover {\n",
       "  /* unfitted */\n",
       "  background-color: var(--sklearn-color-unfitted-level-2);\n",
       "}\n",
       "\n",
       "#sk-container-id-2 div.sk-estimator.fitted:hover {\n",
       "  /* fitted */\n",
       "  background-color: var(--sklearn-color-fitted-level-2);\n",
       "}\n",
       "\n",
       "/* Specification for estimator info (e.g. \"i\" and \"?\") */\n",
       "\n",
       "/* Common style for \"i\" and \"?\" */\n",
       "\n",
       ".sk-estimator-doc-link,\n",
       "a:link.sk-estimator-doc-link,\n",
       "a:visited.sk-estimator-doc-link {\n",
       "  float: right;\n",
       "  font-size: smaller;\n",
       "  line-height: 1em;\n",
       "  font-family: monospace;\n",
       "  background-color: var(--sklearn-color-background);\n",
       "  border-radius: 1em;\n",
       "  height: 1em;\n",
       "  width: 1em;\n",
       "  text-decoration: none !important;\n",
       "  margin-left: 0.5em;\n",
       "  text-align: center;\n",
       "  /* unfitted */\n",
       "  border: var(--sklearn-color-unfitted-level-1) 1pt solid;\n",
       "  color: var(--sklearn-color-unfitted-level-1);\n",
       "}\n",
       "\n",
       ".sk-estimator-doc-link.fitted,\n",
       "a:link.sk-estimator-doc-link.fitted,\n",
       "a:visited.sk-estimator-doc-link.fitted {\n",
       "  /* fitted */\n",
       "  border: var(--sklearn-color-fitted-level-1) 1pt solid;\n",
       "  color: var(--sklearn-color-fitted-level-1);\n",
       "}\n",
       "\n",
       "/* On hover */\n",
       "div.sk-estimator:hover .sk-estimator-doc-link:hover,\n",
       ".sk-estimator-doc-link:hover,\n",
       "div.sk-label-container:hover .sk-estimator-doc-link:hover,\n",
       ".sk-estimator-doc-link:hover {\n",
       "  /* unfitted */\n",
       "  background-color: var(--sklearn-color-unfitted-level-3);\n",
       "  color: var(--sklearn-color-background);\n",
       "  text-decoration: none;\n",
       "}\n",
       "\n",
       "div.sk-estimator.fitted:hover .sk-estimator-doc-link.fitted:hover,\n",
       ".sk-estimator-doc-link.fitted:hover,\n",
       "div.sk-label-container:hover .sk-estimator-doc-link.fitted:hover,\n",
       ".sk-estimator-doc-link.fitted:hover {\n",
       "  /* fitted */\n",
       "  background-color: var(--sklearn-color-fitted-level-3);\n",
       "  color: var(--sklearn-color-background);\n",
       "  text-decoration: none;\n",
       "}\n",
       "\n",
       "/* Span, style for the box shown on hovering the info icon */\n",
       ".sk-estimator-doc-link span {\n",
       "  display: none;\n",
       "  z-index: 9999;\n",
       "  position: relative;\n",
       "  font-weight: normal;\n",
       "  right: .2ex;\n",
       "  padding: .5ex;\n",
       "  margin: .5ex;\n",
       "  width: min-content;\n",
       "  min-width: 20ex;\n",
       "  max-width: 50ex;\n",
       "  color: var(--sklearn-color-text);\n",
       "  box-shadow: 2pt 2pt 4pt #999;\n",
       "  /* unfitted */\n",
       "  background: var(--sklearn-color-unfitted-level-0);\n",
       "  border: .5pt solid var(--sklearn-color-unfitted-level-3);\n",
       "}\n",
       "\n",
       ".sk-estimator-doc-link.fitted span {\n",
       "  /* fitted */\n",
       "  background: var(--sklearn-color-fitted-level-0);\n",
       "  border: var(--sklearn-color-fitted-level-3);\n",
       "}\n",
       "\n",
       ".sk-estimator-doc-link:hover span {\n",
       "  display: block;\n",
       "}\n",
       "\n",
       "/* \"?\"-specific style due to the `<a>` HTML tag */\n",
       "\n",
       "#sk-container-id-2 a.estimator_doc_link {\n",
       "  float: right;\n",
       "  font-size: 1rem;\n",
       "  line-height: 1em;\n",
       "  font-family: monospace;\n",
       "  background-color: var(--sklearn-color-background);\n",
       "  border-radius: 1rem;\n",
       "  height: 1rem;\n",
       "  width: 1rem;\n",
       "  text-decoration: none;\n",
       "  /* unfitted */\n",
       "  color: var(--sklearn-color-unfitted-level-1);\n",
       "  border: var(--sklearn-color-unfitted-level-1) 1pt solid;\n",
       "}\n",
       "\n",
       "#sk-container-id-2 a.estimator_doc_link.fitted {\n",
       "  /* fitted */\n",
       "  border: var(--sklearn-color-fitted-level-1) 1pt solid;\n",
       "  color: var(--sklearn-color-fitted-level-1);\n",
       "}\n",
       "\n",
       "/* On hover */\n",
       "#sk-container-id-2 a.estimator_doc_link:hover {\n",
       "  /* unfitted */\n",
       "  background-color: var(--sklearn-color-unfitted-level-3);\n",
       "  color: var(--sklearn-color-background);\n",
       "  text-decoration: none;\n",
       "}\n",
       "\n",
       "#sk-container-id-2 a.estimator_doc_link.fitted:hover {\n",
       "  /* fitted */\n",
       "  background-color: var(--sklearn-color-fitted-level-3);\n",
       "}\n",
       "</style><div id=\"sk-container-id-2\" class=\"sk-top-container\"><div class=\"sk-text-repr-fallback\"><pre>LogisticRegression(max_iter=1000)</pre><b>In a Jupyter environment, please rerun this cell to show the HTML representation or trust the notebook. <br />On GitHub, the HTML representation is unable to render, please try loading this page with nbviewer.org.</b></div><div class=\"sk-container\" hidden><div class=\"sk-item\"><div class=\"sk-estimator fitted sk-toggleable\"><input class=\"sk-toggleable__control sk-hidden--visually\" id=\"sk-estimator-id-2\" type=\"checkbox\" checked><label for=\"sk-estimator-id-2\" class=\"sk-toggleable__label fitted sk-toggleable__label-arrow\"><div><div>LogisticRegression</div></div><div><a class=\"sk-estimator-doc-link fitted\" rel=\"noreferrer\" target=\"_blank\" href=\"https://scikit-learn.org/1.6/modules/generated/sklearn.linear_model.LogisticRegression.html\">?<span>Documentation for LogisticRegression</span></a><span class=\"sk-estimator-doc-link fitted\">i<span>Fitted</span></span></div></label><div class=\"sk-toggleable__content fitted\"><pre>LogisticRegression(max_iter=1000)</pre></div> </div></div></div></div>"
      ],
      "text/plain": [
       "LogisticRegression(max_iter=1000)"
      ]
     },
     "execution_count": 103,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "from sklearn.linear_model import LogisticRegression\n",
    "\n",
    "model = LogisticRegression(max_iter=1000)\n",
    "model.fit(X_train_tfidf, y_train)\n"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 104,
   "id": "8182fea4-b0dd-4e8d-ae45-10c56d19b239",
   "metadata": {},
   "outputs": [
    {
     "name": "stdout",
     "output_type": "stream",
     "text": [
      "Accuracy: 1.0\n",
      "              precision    recall  f1-score   support\n",
      "\n",
      "    negative       1.00      1.00      1.00        28\n",
      "     neutral       1.00      1.00      1.00         9\n",
      "    positive       1.00      1.00      1.00       163\n",
      "\n",
      "    accuracy                           1.00       200\n",
      "   macro avg       1.00      1.00      1.00       200\n",
      "weighted avg       1.00      1.00      1.00       200\n",
      "\n"
     ]
    }
   ],
   "source": [
    "from sklearn.metrics import classification_report, accuracy_score\n",
    "\n",
    "y_pred = model.predict(X_test_tfidf)\n",
    "print(\"Accuracy:\", accuracy_score(y_test, y_pred))\n",
    "print(classification_report(y_test, y_pred))\n"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 105,
   "id": "f31f98e5-0d6f-445d-bf02-af363bf4baec",
   "metadata": {},
   "outputs": [
    {
     "name": "stdout",
     "output_type": "stream",
     "text": [
      "Sentiment\n",
      "positive    814\n",
      "negative    142\n",
      "neutral      44\n",
      "Name: count, dtype: int64\n"
     ]
    }
   ],
   "source": [
    "print(y.value_counts())\n"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 106,
   "id": "3c3f9b42-97ff-45d2-b2eb-bcbad0c697c9",
   "metadata": {},
   "outputs": [],
   "source": [
    "model = LogisticRegression(class_weight=\"balanced\", max_iter=1000)\n"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 107,
   "id": "4f587844-e505-4b3b-8556-034d0a7f958c",
   "metadata": {},
   "outputs": [],
   "source": [
    "X_train, X_test, y_train, y_test = train_test_split(\n",
    "    df[\"Review\"], df[\"Sentiment\"], test_size=0.3, random_state=42, stratify=df[\"Sentiment\"]\n",
    ")\n"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 108,
   "id": "e3cfa9f6-6304-45a2-b292-f5b89a26d26c",
   "metadata": {},
   "outputs": [],
   "source": [
    "df[\"Rate\"] = pd.to_numeric(df[\"Rate\"], errors=\"coerce\")\n"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 109,
   "id": "540783b5-8320-471f-b6b4-2b5590596e68",
   "metadata": {},
   "outputs": [
    {
     "name": "stdout",
     "output_type": "stream",
     "text": [
      "Train size: (164041,) Test size: (41011,)\n",
      "Accuracy: 0.8326302699275804\n",
      "              precision    recall  f1-score   support\n",
      "\n",
      "    negative       0.99      0.78      0.87      5558\n",
      "     neutral       0.33      0.99      0.49      3320\n",
      "    positive       1.00      0.83      0.90     32133\n",
      "\n",
      "    accuracy                           0.83     41011\n",
      "   macro avg       0.77      0.87      0.76     41011\n",
      "weighted avg       0.94      0.83      0.87     41011\n",
      "\n"
     ]
    }
   ],
   "source": [
    "import pandas as pd\n",
    "from sklearn.model_selection import train_test_split\n",
    "from sklearn.feature_extraction.text import TfidfVectorizer\n",
    "from sklearn.linear_model import LogisticRegression\n",
    "from sklearn.metrics import classification_report, accuracy_score\n",
    "\n",
    "# --- Step 1: Clean text column ---\n",
    "df[\"Review\"] = df[\"Review\"].fillna(\"\").astype(str)\n",
    "\n",
    "# --- Step 2: Map ratings into 3 sentiment classes ---\n",
    "def rating_to_sentiment(rating):\n",
    "    if rating <= 2:\n",
    "        return \"negative\"\n",
    "    elif rating == 3:\n",
    "        return \"neutral\"\n",
    "    else:\n",
    "        return \"positive\"\n",
    "\n",
    "df[\"sentiment\"] = df[\"Rate\"].apply(rating_to_sentiment)\n",
    "\n",
    "# --- Step 3: Remove any classes with <2 samples ---\n",
    "class_counts = df[\"sentiment\"].value_counts()\n",
    "valid_classes = class_counts[class_counts >= 2].index\n",
    "df = df[df[\"sentiment\"].isin(valid_classes)]\n",
    "\n",
    "# --- Step 4: Safe stratified split ---\n",
    "X_train, X_test, y_train, y_test = train_test_split(\n",
    "    df[\"Review\"], df[\"sentiment\"],\n",
    "    test_size=0.2,\n",
    "    random_state=42,\n",
    "    stratify=df[\"sentiment\"]\n",
    ")\n",
    "\n",
    "print(\"Train size:\", X_train.shape, \"Test size:\", X_test.shape)\n",
    "\n",
    "# --- Step 5: TF-IDF vectorization ---\n",
    "vectorizer = TfidfVectorizer(max_features=2000, stop_words=\"english\")\n",
    "X_train_tfidf = vectorizer.fit_transform(X_train)\n",
    "X_test_tfidf = vectorizer.transform(X_test)\n",
    "\n",
    "# --- Step 6: Train model with class weights ---\n",
    "model = LogisticRegression(class_weight=\"balanced\", max_iter=1000)\n",
    "model.fit(X_train_tfidf, y_train)\n",
    "\n",
    "# --- Step 7: Evaluate ---\n",
    "y_pred = model.predict(X_test_tfidf)\n",
    "print(\"Accuracy:\", accuracy_score(y_test, y_pred))\n",
    "print(classification_report(y_test, y_pred))"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 110,
   "id": "309a07ce-a77d-4d24-b46d-cec212abb67c",
   "metadata": {},
   "outputs": [],
   "source": [
    "from sklearn.feature_extraction.text import TfidfVectorizer\n",
    "from sklearn.model_selection import train_test_split\n",
    "\n",
    "# Split first\n",
    "X_train, X_test, y_train, y_test = train_test_split(\n",
    "    df[\"Review\"], df[\"Sentiment\"], test_size=0.2, random_state=42, stratify=df[\"Sentiment\"]\n",
    ")\n",
    "\n",
    "# Then fit TF-IDF only on train\n",
    "vectorizer = TfidfVectorizer(max_features=2000, stop_words='english')\n",
    "X_train_tfidf = vectorizer.fit_transform(X_train)\n",
    "X_test_tfidf = vectorizer.transform(X_test)\n"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 111,
   "id": "dd601cd6-80d7-4023-8078-c9d6c6f556ea",
   "metadata": {},
   "outputs": [],
   "source": [
    "import pandas as pd\n",
    "from sklearn.model_selection import train_test_split\n",
    "from sklearn.feature_extraction.text import TfidfVectorizer\n",
    "from sklearn.preprocessing import OneHotEncoder, StandardScaler\n",
    "from sklearn.compose import ColumnTransformer\n",
    "from sklearn.pipeline import Pipeline\n",
    "from sklearn.linear_model import LogisticRegression\n",
    "from sklearn.metrics import accuracy_score, classification_report\n"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 112,
   "id": "a0b2c1ad-9887-4b6e-a5b9-6b41f84efd14",
   "metadata": {},
   "outputs": [],
   "source": [
    "df[\"Review\"] = df[\"Review\"].fillna(\"\").astype(str)\n",
    "df[\"Summary\"] = df[\"Summary\"].fillna(\"\").astype(str)\n",
    "df[\"product_name\"] = df[\"product_name\"].fillna(\"\").astype(str)\n",
    "df[\"Rate\"] = pd.to_numeric(df[\"Rate\"], errors=\"coerce\")\n",
    "df[\"product_price\"] = pd.to_numeric(df[\"product_price\"], errors=\"coerce\")\n",
    "df = df.dropna(subset=[\"Rate\", \"product_price\"])\n",
    "\n"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 113,
   "id": "e910cf2d-83ac-45f8-ba40-edd40f4c8b1f",
   "metadata": {},
   "outputs": [],
   "source": [
    "def rating_to_sentiment(rating):\n",
    "    if rating <= 2:\n",
    "        return \"negative\"\n",
    "    elif rating == 3:\n",
    "        return \"neutral\"\n",
    "    else:\n",
    "        return \"positive\"\n",
    "\n",
    "df[\"sentiment\"] = df[\"Rate\"].apply(rating_to_sentiment)\n"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 114,
   "id": "e180c70b-e81b-4ca0-9d13-2fb34c19db6a",
   "metadata": {},
   "outputs": [],
   "source": [
    "X = df[[\"Review\", \"Summary\", \"Rate\", \"product_price\", \"product_name\"]]\n",
    "y = df[\"sentiment\"]\n",
    "\n",
    "X_train, X_test, y_train, y_test = train_test_split(\n",
    "    X, y, test_size=0.2, random_state=42, stratify=y\n",
    ")\n",
    "\n"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 115,
   "id": "f8ed31e5-7853-43de-916b-b454d8f1f002",
   "metadata": {},
   "outputs": [],
   "source": [
    "preprocessor = ColumnTransformer(\n",
    "    transformers=[\n",
    "        (\"review_tfidf\", TfidfVectorizer(max_features=2000, stop_words=\"english\"), \"Review\"),\n",
    "        (\"summary_tfidf\", TfidfVectorizer(max_features=500, stop_words=\"english\"), \"Summary\"),\n",
    "        (\"product_name_ohe\", OneHotEncoder(handle_unknown=\"ignore\"), [\"product_name\"]),\n",
    "        (\"numeric\", StandardScaler(), [\"Rate\", \"product_price\"])\n",
    "    ]\n",
    ")\n"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 116,
   "id": "e650e399-976a-4d16-bae6-8973f9855816",
   "metadata": {},
   "outputs": [],
   "source": [
    "pipeline = Pipeline([\n",
    "    (\"preprocessor\", preprocessor),\n",
    "    (\"classifier\", LogisticRegression(class_weight=\"balanced\", max_iter=1000))\n",
    "])\n"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 117,
   "id": "c2afe567-776c-4ec7-b66e-6d551cc21d5a",
   "metadata": {},
   "outputs": [
    {
     "name": "stdout",
     "output_type": "stream",
     "text": [
      "Overall dataset accuracy: 1.0\n",
      "              precision    recall  f1-score   support\n",
      "\n",
      "    negative       1.00      1.00      1.00      5558\n",
      "     neutral       1.00      1.00      1.00      3320\n",
      "    positive       1.00      1.00      1.00     32132\n",
      "\n",
      "    accuracy                           1.00     41010\n",
      "   macro avg       1.00      1.00      1.00     41010\n",
      "weighted avg       1.00      1.00      1.00     41010\n",
      "\n"
     ]
    }
   ],
   "source": [
    "pipeline.fit(X_train, y_train)\n",
    "y_pred = pipeline.predict(X_test)\n",
    "\n",
    "print(\"Overall dataset accuracy:\", accuracy_score(y_test, y_pred))\n",
    "print(classification_report(y_test, y_pred))\n"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 118,
   "id": "f5b4181e-69ec-47bd-b1a2-efa89ddc97d4",
   "metadata": {},
   "outputs": [
    {
     "name": "stdout",
     "output_type": "stream",
     "text": [
      "Overall dataset accuracy: 0.9146549622043404\n",
      "              precision    recall  f1-score   support\n",
      "\n",
      "    negative       0.91      0.94      0.92      5558\n",
      "     neutral       0.52      0.89      0.66      3320\n",
      "    positive       0.99      0.91      0.95     32132\n",
      "\n",
      "    accuracy                           0.91     41010\n",
      "   macro avg       0.81      0.91      0.84     41010\n",
      "weighted avg       0.94      0.91      0.92     41010\n",
      "\n"
     ]
    }
   ],
   "source": [
    "import pandas as pd\n",
    "from sklearn.model_selection import train_test_split\n",
    "from sklearn.feature_extraction.text import TfidfVectorizer\n",
    "from sklearn.preprocessing import OneHotEncoder, StandardScaler\n",
    "from sklearn.compose import ColumnTransformer\n",
    "from sklearn.pipeline import Pipeline\n",
    "from sklearn.linear_model import LogisticRegression\n",
    "from sklearn.metrics import accuracy_score, classification_report\n",
    "\n",
    "# --- Step 1: Clean columns ---\n",
    "df[\"Review\"] = df[\"Review\"].fillna(\"\").astype(str)\n",
    "df[\"Summary\"] = df[\"Summary\"].fillna(\"\").astype(str)\n",
    "df[\"product_name\"] = df[\"product_name\"].fillna(\"\").astype(str)\n",
    "df[\"Rate\"] = pd.to_numeric(df[\"Rate\"], errors=\"coerce\")\n",
    "df[\"product_price\"] = pd.to_numeric(df[\"product_price\"], errors=\"coerce\")\n",
    "df = df.dropna(subset=[\"Rate\", \"product_price\"])\n",
    "\n",
    "# --- Step 2: Map ratings into sentiment labels ---\n",
    "def rating_to_sentiment(rating):\n",
    "    if rating <= 2:\n",
    "        return \"negative\"\n",
    "    elif rating == 3:\n",
    "        return \"neutral\"\n",
    "    else:\n",
    "        return \"positive\"\n",
    "\n",
    "df[\"sentiment\"] = df[\"Rate\"].apply(rating_to_sentiment)\n",
    "\n",
    "# --- Step 3: Define features (⚠️ exclude Rate to avoid leakage) ---\n",
    "X = df[[\"Review\", \"Summary\", \"product_price\", \"product_name\"]]\n",
    "y = df[\"sentiment\"]\n",
    "\n",
    "# --- Step 4: Train/test split ---\n",
    "X_train, X_test, y_train, y_test = train_test_split(\n",
    "    X, y, test_size=0.2, random_state=42, stratify=y\n",
    ")\n",
    "\n",
    "# --- Step 5: Preprocessing ---\n",
    "preprocessor = ColumnTransformer(\n",
    "    transformers=[\n",
    "        (\"review_tfidf\", TfidfVectorizer(max_features=2000, stop_words=\"english\"), \"Review\"),\n",
    "        (\"summary_tfidf\", TfidfVectorizer(max_features=500, stop_words=\"english\"), \"Summary\"),\n",
    "        (\"product_name_ohe\", OneHotEncoder(handle_unknown=\"ignore\"), [\"product_name\"]),\n",
    "        (\"numeric\", StandardScaler(), [\"product_price\"])\n",
    "    ]\n",
    ")\n",
    "\n",
    "# --- Step 6: Build pipeline ---\n",
    "pipeline = Pipeline([\n",
    "    (\"preprocessor\", preprocessor),\n",
    "    (\"classifier\", LogisticRegression(class_weight=\"balanced\", max_iter=1000))\n",
    "])\n",
    "\n",
    "# --- Step 7: Train & evaluate ---\n",
    "pipeline.fit(X_train, y_train)\n",
    "y_pred = pipeline.predict(X_test)\n",
    "\n",
    "print(\"Overall dataset accuracy:\", accuracy_score(y_test, y_pred))\n",
    "print(classification_report(y_test, y_pred))"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 119,
   "id": "06e74213-225d-4e2f-9497-c47a7d46b823",
   "metadata": {},
   "outputs": [],
   "source": [
    "import pandas as pd\n",
    "from sklearn.model_selection import train_test_split\n",
    "from sklearn.feature_extraction.text import TfidfVectorizer\n",
    "from sklearn.preprocessing import OneHotEncoder, StandardScaler\n",
    "from sklearn.compose import ColumnTransformer\n",
    "from sklearn.pipeline import Pipeline\n",
    "from sklearn.metrics import accuracy_score, classification_report\n",
    "\n",
    "# --- Clean dataset ---\n",
    "df[\"Review\"] = df[\"Review\"].fillna(\"\").astype(str)\n",
    "df[\"Summary\"] = df[\"Summary\"].fillna(\"\").astype(str)\n",
    "df[\"product_name\"] = df[\"product_name\"].fillna(\"\").astype(str)\n",
    "df[\"Rate\"] = pd.to_numeric(df[\"Rate\"], errors=\"coerce\")\n",
    "df[\"product_price\"] = pd.to_numeric(df[\"product_price\"], errors=\"coerce\")\n",
    "df = df.dropna(subset=[\"Rate\", \"product_price\"])\n",
    "\n",
    "# --- Map ratings into sentiment labels ---\n",
    "def rating_to_sentiment(rating):\n",
    "    if rating <= 2:\n",
    "        return \"negative\"\n",
    "    elif rating == 3:\n",
    "        return \"neutral\"\n",
    "    else:\n",
    "        return \"positive\"\n",
    "\n",
    "df[\"sentiment\"] = df[\"Rate\"].apply(rating_to_sentiment)\n",
    "\n",
    "# --- Features (exclude Rate to avoid leakage) ---\n",
    "X = df[[\"Review\", \"Summary\", \"product_price\", \"product_name\"]]\n",
    "y = df[\"sentiment\"]\n",
    "\n",
    "X_train, X_test, y_train, y_test = train_test_split(\n",
    "    X, y, test_size=0.2, random_state=42, stratify=y\n",
    ")\n",
    "\n",
    "# --- Preprocessor ---\n",
    "preprocessor = ColumnTransformer(\n",
    "    transformers=[\n",
    "        (\"review_tfidf\", TfidfVectorizer(max_features=2000, stop_words=\"english\"), \"Review\"),\n",
    "        (\"summary_tfidf\", TfidfVectorizer(max_features=500, stop_words=\"english\"), \"Summary\"),\n",
    "        (\"product_name_ohe\", OneHotEncoder(handle_unknown=\"ignore\"), [\"product_name\"]),\n",
    "        (\"numeric\", StandardScaler(), [\"product_price\"])\n",
    "    ]\n",
    ")"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 120,
   "id": "7be3e2dc-acf9-43b9-b50b-8114447c1496",
   "metadata": {},
   "outputs": [
    {
     "name": "stdout",
     "output_type": "stream",
     "text": [
      "SVM Accuracy: 0.9531821506949525\n",
      "              precision    recall  f1-score   support\n",
      "\n",
      "    negative       0.93      0.93      0.93      5558\n",
      "     neutral       0.77      0.79      0.78      3320\n",
      "    positive       0.98      0.97      0.98     32132\n",
      "\n",
      "    accuracy                           0.95     41010\n",
      "   macro avg       0.89      0.90      0.90     41010\n",
      "weighted avg       0.95      0.95      0.95     41010\n",
      "\n"
     ]
    }
   ],
   "source": [
    "from sklearn.svm import LinearSVC\n",
    "\n",
    "pipeline = Pipeline([\n",
    "    (\"preprocessor\", preprocessor),\n",
    "    (\"classifier\", LinearSVC(class_weight=\"balanced\"))\n",
    "])\n",
    "\n",
    "pipeline.fit(X_train, y_train)\n",
    "y_pred = pipeline.predict(X_test)\n",
    "\n",
    "print(\"SVM Accuracy:\", accuracy_score(y_test, y_pred))\n",
    "print(classification_report(y_test, y_pred))\n"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 121,
   "id": "b93f2f2d-9a38-4e9f-8f34-90bd285b3783",
   "metadata": {},
   "outputs": [
    {
     "name": "stdout",
     "output_type": "stream",
     "text": [
      "Decision Tree Accuracy: 0.91921482565228\n",
      "              precision    recall  f1-score   support\n",
      "\n",
      "    negative       0.90      0.91      0.91      5558\n",
      "     neutral       0.56      0.82      0.67      3320\n",
      "    positive       0.98      0.93      0.95     32132\n",
      "\n",
      "    accuracy                           0.92     41010\n",
      "   macro avg       0.81      0.89      0.84     41010\n",
      "weighted avg       0.94      0.92      0.92     41010\n",
      "\n"
     ]
    }
   ],
   "source": [
    "from sklearn.tree import DecisionTreeClassifier\n",
    "\n",
    "pipeline = Pipeline([\n",
    "    (\"preprocessor\", preprocessor),\n",
    "    (\"classifier\", DecisionTreeClassifier(class_weight=\"balanced\", random_state=42))\n",
    "])\n",
    "\n",
    "pipeline.fit(X_train, y_train)\n",
    "y_pred = pipeline.predict(X_test)\n",
    "\n",
    "print(\"Decision Tree Accuracy:\", accuracy_score(y_test, y_pred))\n",
    "print(classification_report(y_test, y_pred))\n"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 122,
   "id": "891f26ec-d7ee-45d2-b35f-77d30a522154",
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/html": [
       "<style>#sk-container-id-3 {\n",
       "  /* Definition of color scheme common for light and dark mode */\n",
       "  --sklearn-color-text: #000;\n",
       "  --sklearn-color-text-muted: #666;\n",
       "  --sklearn-color-line: gray;\n",
       "  /* Definition of color scheme for unfitted estimators */\n",
       "  --sklearn-color-unfitted-level-0: #fff5e6;\n",
       "  --sklearn-color-unfitted-level-1: #f6e4d2;\n",
       "  --sklearn-color-unfitted-level-2: #ffe0b3;\n",
       "  --sklearn-color-unfitted-level-3: chocolate;\n",
       "  /* Definition of color scheme for fitted estimators */\n",
       "  --sklearn-color-fitted-level-0: #f0f8ff;\n",
       "  --sklearn-color-fitted-level-1: #d4ebff;\n",
       "  --sklearn-color-fitted-level-2: #b3dbfd;\n",
       "  --sklearn-color-fitted-level-3: cornflowerblue;\n",
       "\n",
       "  /* Specific color for light theme */\n",
       "  --sklearn-color-text-on-default-background: var(--sg-text-color, var(--theme-code-foreground, var(--jp-content-font-color1, black)));\n",
       "  --sklearn-color-background: var(--sg-background-color, var(--theme-background, var(--jp-layout-color0, white)));\n",
       "  --sklearn-color-border-box: var(--sg-text-color, var(--theme-code-foreground, var(--jp-content-font-color1, black)));\n",
       "  --sklearn-color-icon: #696969;\n",
       "\n",
       "  @media (prefers-color-scheme: dark) {\n",
       "    /* Redefinition of color scheme for dark theme */\n",
       "    --sklearn-color-text-on-default-background: var(--sg-text-color, var(--theme-code-foreground, var(--jp-content-font-color1, white)));\n",
       "    --sklearn-color-background: var(--sg-background-color, var(--theme-background, var(--jp-layout-color0, #111)));\n",
       "    --sklearn-color-border-box: var(--sg-text-color, var(--theme-code-foreground, var(--jp-content-font-color1, white)));\n",
       "    --sklearn-color-icon: #878787;\n",
       "  }\n",
       "}\n",
       "\n",
       "#sk-container-id-3 {\n",
       "  color: var(--sklearn-color-text);\n",
       "}\n",
       "\n",
       "#sk-container-id-3 pre {\n",
       "  padding: 0;\n",
       "}\n",
       "\n",
       "#sk-container-id-3 input.sk-hidden--visually {\n",
       "  border: 0;\n",
       "  clip: rect(1px 1px 1px 1px);\n",
       "  clip: rect(1px, 1px, 1px, 1px);\n",
       "  height: 1px;\n",
       "  margin: -1px;\n",
       "  overflow: hidden;\n",
       "  padding: 0;\n",
       "  position: absolute;\n",
       "  width: 1px;\n",
       "}\n",
       "\n",
       "#sk-container-id-3 div.sk-dashed-wrapped {\n",
       "  border: 1px dashed var(--sklearn-color-line);\n",
       "  margin: 0 0.4em 0.5em 0.4em;\n",
       "  box-sizing: border-box;\n",
       "  padding-bottom: 0.4em;\n",
       "  background-color: var(--sklearn-color-background);\n",
       "}\n",
       "\n",
       "#sk-container-id-3 div.sk-container {\n",
       "  /* jupyter's `normalize.less` sets `[hidden] { display: none; }`\n",
       "     but bootstrap.min.css set `[hidden] { display: none !important; }`\n",
       "     so we also need the `!important` here to be able to override the\n",
       "     default hidden behavior on the sphinx rendered scikit-learn.org.\n",
       "     See: https://github.com/scikit-learn/scikit-learn/issues/21755 */\n",
       "  display: inline-block !important;\n",
       "  position: relative;\n",
       "}\n",
       "\n",
       "#sk-container-id-3 div.sk-text-repr-fallback {\n",
       "  display: none;\n",
       "}\n",
       "\n",
       "div.sk-parallel-item,\n",
       "div.sk-serial,\n",
       "div.sk-item {\n",
       "  /* draw centered vertical line to link estimators */\n",
       "  background-image: linear-gradient(var(--sklearn-color-text-on-default-background), var(--sklearn-color-text-on-default-background));\n",
       "  background-size: 2px 100%;\n",
       "  background-repeat: no-repeat;\n",
       "  background-position: center center;\n",
       "}\n",
       "\n",
       "/* Parallel-specific style estimator block */\n",
       "\n",
       "#sk-container-id-3 div.sk-parallel-item::after {\n",
       "  content: \"\";\n",
       "  width: 100%;\n",
       "  border-bottom: 2px solid var(--sklearn-color-text-on-default-background);\n",
       "  flex-grow: 1;\n",
       "}\n",
       "\n",
       "#sk-container-id-3 div.sk-parallel {\n",
       "  display: flex;\n",
       "  align-items: stretch;\n",
       "  justify-content: center;\n",
       "  background-color: var(--sklearn-color-background);\n",
       "  position: relative;\n",
       "}\n",
       "\n",
       "#sk-container-id-3 div.sk-parallel-item {\n",
       "  display: flex;\n",
       "  flex-direction: column;\n",
       "}\n",
       "\n",
       "#sk-container-id-3 div.sk-parallel-item:first-child::after {\n",
       "  align-self: flex-end;\n",
       "  width: 50%;\n",
       "}\n",
       "\n",
       "#sk-container-id-3 div.sk-parallel-item:last-child::after {\n",
       "  align-self: flex-start;\n",
       "  width: 50%;\n",
       "}\n",
       "\n",
       "#sk-container-id-3 div.sk-parallel-item:only-child::after {\n",
       "  width: 0;\n",
       "}\n",
       "\n",
       "/* Serial-specific style estimator block */\n",
       "\n",
       "#sk-container-id-3 div.sk-serial {\n",
       "  display: flex;\n",
       "  flex-direction: column;\n",
       "  align-items: center;\n",
       "  background-color: var(--sklearn-color-background);\n",
       "  padding-right: 1em;\n",
       "  padding-left: 1em;\n",
       "}\n",
       "\n",
       "\n",
       "/* Toggleable style: style used for estimator/Pipeline/ColumnTransformer box that is\n",
       "clickable and can be expanded/collapsed.\n",
       "- Pipeline and ColumnTransformer use this feature and define the default style\n",
       "- Estimators will overwrite some part of the style using the `sk-estimator` class\n",
       "*/\n",
       "\n",
       "/* Pipeline and ColumnTransformer style (default) */\n",
       "\n",
       "#sk-container-id-3 div.sk-toggleable {\n",
       "  /* Default theme specific background. It is overwritten whether we have a\n",
       "  specific estimator or a Pipeline/ColumnTransformer */\n",
       "  background-color: var(--sklearn-color-background);\n",
       "}\n",
       "\n",
       "/* Toggleable label */\n",
       "#sk-container-id-3 label.sk-toggleable__label {\n",
       "  cursor: pointer;\n",
       "  display: flex;\n",
       "  width: 100%;\n",
       "  margin-bottom: 0;\n",
       "  padding: 0.5em;\n",
       "  box-sizing: border-box;\n",
       "  text-align: center;\n",
       "  align-items: start;\n",
       "  justify-content: space-between;\n",
       "  gap: 0.5em;\n",
       "}\n",
       "\n",
       "#sk-container-id-3 label.sk-toggleable__label .caption {\n",
       "  font-size: 0.6rem;\n",
       "  font-weight: lighter;\n",
       "  color: var(--sklearn-color-text-muted);\n",
       "}\n",
       "\n",
       "#sk-container-id-3 label.sk-toggleable__label-arrow:before {\n",
       "  /* Arrow on the left of the label */\n",
       "  content: \"▸\";\n",
       "  float: left;\n",
       "  margin-right: 0.25em;\n",
       "  color: var(--sklearn-color-icon);\n",
       "}\n",
       "\n",
       "#sk-container-id-3 label.sk-toggleable__label-arrow:hover:before {\n",
       "  color: var(--sklearn-color-text);\n",
       "}\n",
       "\n",
       "/* Toggleable content - dropdown */\n",
       "\n",
       "#sk-container-id-3 div.sk-toggleable__content {\n",
       "  max-height: 0;\n",
       "  max-width: 0;\n",
       "  overflow: hidden;\n",
       "  text-align: left;\n",
       "  /* unfitted */\n",
       "  background-color: var(--sklearn-color-unfitted-level-0);\n",
       "}\n",
       "\n",
       "#sk-container-id-3 div.sk-toggleable__content.fitted {\n",
       "  /* fitted */\n",
       "  background-color: var(--sklearn-color-fitted-level-0);\n",
       "}\n",
       "\n",
       "#sk-container-id-3 div.sk-toggleable__content pre {\n",
       "  margin: 0.2em;\n",
       "  border-radius: 0.25em;\n",
       "  color: var(--sklearn-color-text);\n",
       "  /* unfitted */\n",
       "  background-color: var(--sklearn-color-unfitted-level-0);\n",
       "}\n",
       "\n",
       "#sk-container-id-3 div.sk-toggleable__content.fitted pre {\n",
       "  /* unfitted */\n",
       "  background-color: var(--sklearn-color-fitted-level-0);\n",
       "}\n",
       "\n",
       "#sk-container-id-3 input.sk-toggleable__control:checked~div.sk-toggleable__content {\n",
       "  /* Expand drop-down */\n",
       "  max-height: 200px;\n",
       "  max-width: 100%;\n",
       "  overflow: auto;\n",
       "}\n",
       "\n",
       "#sk-container-id-3 input.sk-toggleable__control:checked~label.sk-toggleable__label-arrow:before {\n",
       "  content: \"▾\";\n",
       "}\n",
       "\n",
       "/* Pipeline/ColumnTransformer-specific style */\n",
       "\n",
       "#sk-container-id-3 div.sk-label input.sk-toggleable__control:checked~label.sk-toggleable__label {\n",
       "  color: var(--sklearn-color-text);\n",
       "  background-color: var(--sklearn-color-unfitted-level-2);\n",
       "}\n",
       "\n",
       "#sk-container-id-3 div.sk-label.fitted input.sk-toggleable__control:checked~label.sk-toggleable__label {\n",
       "  background-color: var(--sklearn-color-fitted-level-2);\n",
       "}\n",
       "\n",
       "/* Estimator-specific style */\n",
       "\n",
       "/* Colorize estimator box */\n",
       "#sk-container-id-3 div.sk-estimator input.sk-toggleable__control:checked~label.sk-toggleable__label {\n",
       "  /* unfitted */\n",
       "  background-color: var(--sklearn-color-unfitted-level-2);\n",
       "}\n",
       "\n",
       "#sk-container-id-3 div.sk-estimator.fitted input.sk-toggleable__control:checked~label.sk-toggleable__label {\n",
       "  /* fitted */\n",
       "  background-color: var(--sklearn-color-fitted-level-2);\n",
       "}\n",
       "\n",
       "#sk-container-id-3 div.sk-label label.sk-toggleable__label,\n",
       "#sk-container-id-3 div.sk-label label {\n",
       "  /* The background is the default theme color */\n",
       "  color: var(--sklearn-color-text-on-default-background);\n",
       "}\n",
       "\n",
       "/* On hover, darken the color of the background */\n",
       "#sk-container-id-3 div.sk-label:hover label.sk-toggleable__label {\n",
       "  color: var(--sklearn-color-text);\n",
       "  background-color: var(--sklearn-color-unfitted-level-2);\n",
       "}\n",
       "\n",
       "/* Label box, darken color on hover, fitted */\n",
       "#sk-container-id-3 div.sk-label.fitted:hover label.sk-toggleable__label.fitted {\n",
       "  color: var(--sklearn-color-text);\n",
       "  background-color: var(--sklearn-color-fitted-level-2);\n",
       "}\n",
       "\n",
       "/* Estimator label */\n",
       "\n",
       "#sk-container-id-3 div.sk-label label {\n",
       "  font-family: monospace;\n",
       "  font-weight: bold;\n",
       "  display: inline-block;\n",
       "  line-height: 1.2em;\n",
       "}\n",
       "\n",
       "#sk-container-id-3 div.sk-label-container {\n",
       "  text-align: center;\n",
       "}\n",
       "\n",
       "/* Estimator-specific */\n",
       "#sk-container-id-3 div.sk-estimator {\n",
       "  font-family: monospace;\n",
       "  border: 1px dotted var(--sklearn-color-border-box);\n",
       "  border-radius: 0.25em;\n",
       "  box-sizing: border-box;\n",
       "  margin-bottom: 0.5em;\n",
       "  /* unfitted */\n",
       "  background-color: var(--sklearn-color-unfitted-level-0);\n",
       "}\n",
       "\n",
       "#sk-container-id-3 div.sk-estimator.fitted {\n",
       "  /* fitted */\n",
       "  background-color: var(--sklearn-color-fitted-level-0);\n",
       "}\n",
       "\n",
       "/* on hover */\n",
       "#sk-container-id-3 div.sk-estimator:hover {\n",
       "  /* unfitted */\n",
       "  background-color: var(--sklearn-color-unfitted-level-2);\n",
       "}\n",
       "\n",
       "#sk-container-id-3 div.sk-estimator.fitted:hover {\n",
       "  /* fitted */\n",
       "  background-color: var(--sklearn-color-fitted-level-2);\n",
       "}\n",
       "\n",
       "/* Specification for estimator info (e.g. \"i\" and \"?\") */\n",
       "\n",
       "/* Common style for \"i\" and \"?\" */\n",
       "\n",
       ".sk-estimator-doc-link,\n",
       "a:link.sk-estimator-doc-link,\n",
       "a:visited.sk-estimator-doc-link {\n",
       "  float: right;\n",
       "  font-size: smaller;\n",
       "  line-height: 1em;\n",
       "  font-family: monospace;\n",
       "  background-color: var(--sklearn-color-background);\n",
       "  border-radius: 1em;\n",
       "  height: 1em;\n",
       "  width: 1em;\n",
       "  text-decoration: none !important;\n",
       "  margin-left: 0.5em;\n",
       "  text-align: center;\n",
       "  /* unfitted */\n",
       "  border: var(--sklearn-color-unfitted-level-1) 1pt solid;\n",
       "  color: var(--sklearn-color-unfitted-level-1);\n",
       "}\n",
       "\n",
       ".sk-estimator-doc-link.fitted,\n",
       "a:link.sk-estimator-doc-link.fitted,\n",
       "a:visited.sk-estimator-doc-link.fitted {\n",
       "  /* fitted */\n",
       "  border: var(--sklearn-color-fitted-level-1) 1pt solid;\n",
       "  color: var(--sklearn-color-fitted-level-1);\n",
       "}\n",
       "\n",
       "/* On hover */\n",
       "div.sk-estimator:hover .sk-estimator-doc-link:hover,\n",
       ".sk-estimator-doc-link:hover,\n",
       "div.sk-label-container:hover .sk-estimator-doc-link:hover,\n",
       ".sk-estimator-doc-link:hover {\n",
       "  /* unfitted */\n",
       "  background-color: var(--sklearn-color-unfitted-level-3);\n",
       "  color: var(--sklearn-color-background);\n",
       "  text-decoration: none;\n",
       "}\n",
       "\n",
       "div.sk-estimator.fitted:hover .sk-estimator-doc-link.fitted:hover,\n",
       ".sk-estimator-doc-link.fitted:hover,\n",
       "div.sk-label-container:hover .sk-estimator-doc-link.fitted:hover,\n",
       ".sk-estimator-doc-link.fitted:hover {\n",
       "  /* fitted */\n",
       "  background-color: var(--sklearn-color-fitted-level-3);\n",
       "  color: var(--sklearn-color-background);\n",
       "  text-decoration: none;\n",
       "}\n",
       "\n",
       "/* Span, style for the box shown on hovering the info icon */\n",
       ".sk-estimator-doc-link span {\n",
       "  display: none;\n",
       "  z-index: 9999;\n",
       "  position: relative;\n",
       "  font-weight: normal;\n",
       "  right: .2ex;\n",
       "  padding: .5ex;\n",
       "  margin: .5ex;\n",
       "  width: min-content;\n",
       "  min-width: 20ex;\n",
       "  max-width: 50ex;\n",
       "  color: var(--sklearn-color-text);\n",
       "  box-shadow: 2pt 2pt 4pt #999;\n",
       "  /* unfitted */\n",
       "  background: var(--sklearn-color-unfitted-level-0);\n",
       "  border: .5pt solid var(--sklearn-color-unfitted-level-3);\n",
       "}\n",
       "\n",
       ".sk-estimator-doc-link.fitted span {\n",
       "  /* fitted */\n",
       "  background: var(--sklearn-color-fitted-level-0);\n",
       "  border: var(--sklearn-color-fitted-level-3);\n",
       "}\n",
       "\n",
       ".sk-estimator-doc-link:hover span {\n",
       "  display: block;\n",
       "}\n",
       "\n",
       "/* \"?\"-specific style due to the `<a>` HTML tag */\n",
       "\n",
       "#sk-container-id-3 a.estimator_doc_link {\n",
       "  float: right;\n",
       "  font-size: 1rem;\n",
       "  line-height: 1em;\n",
       "  font-family: monospace;\n",
       "  background-color: var(--sklearn-color-background);\n",
       "  border-radius: 1rem;\n",
       "  height: 1rem;\n",
       "  width: 1rem;\n",
       "  text-decoration: none;\n",
       "  /* unfitted */\n",
       "  color: var(--sklearn-color-unfitted-level-1);\n",
       "  border: var(--sklearn-color-unfitted-level-1) 1pt solid;\n",
       "}\n",
       "\n",
       "#sk-container-id-3 a.estimator_doc_link.fitted {\n",
       "  /* fitted */\n",
       "  border: var(--sklearn-color-fitted-level-1) 1pt solid;\n",
       "  color: var(--sklearn-color-fitted-level-1);\n",
       "}\n",
       "\n",
       "/* On hover */\n",
       "#sk-container-id-3 a.estimator_doc_link:hover {\n",
       "  /* unfitted */\n",
       "  background-color: var(--sklearn-color-unfitted-level-3);\n",
       "  color: var(--sklearn-color-background);\n",
       "  text-decoration: none;\n",
       "}\n",
       "\n",
       "#sk-container-id-3 a.estimator_doc_link.fitted:hover {\n",
       "  /* fitted */\n",
       "  background-color: var(--sklearn-color-fitted-level-3);\n",
       "}\n",
       "</style><div id=\"sk-container-id-3\" class=\"sk-top-container\"><div class=\"sk-text-repr-fallback\"><pre>TfidfVectorizer(max_features=500, stop_words=&#x27;english&#x27;)</pre><b>In a Jupyter environment, please rerun this cell to show the HTML representation or trust the notebook. <br />On GitHub, the HTML representation is unable to render, please try loading this page with nbviewer.org.</b></div><div class=\"sk-container\" hidden><div class=\"sk-item\"><div class=\"sk-estimator  sk-toggleable\"><input class=\"sk-toggleable__control sk-hidden--visually\" id=\"sk-estimator-id-3\" type=\"checkbox\" checked><label for=\"sk-estimator-id-3\" class=\"sk-toggleable__label  sk-toggleable__label-arrow\"><div><div>TfidfVectorizer</div></div><div><a class=\"sk-estimator-doc-link \" rel=\"noreferrer\" target=\"_blank\" href=\"https://scikit-learn.org/1.6/modules/generated/sklearn.feature_extraction.text.TfidfVectorizer.html\">?<span>Documentation for TfidfVectorizer</span></a><span class=\"sk-estimator-doc-link \">i<span>Not fitted</span></span></div></label><div class=\"sk-toggleable__content \"><pre>TfidfVectorizer(max_features=500, stop_words=&#x27;english&#x27;)</pre></div> </div></div></div></div>"
      ],
      "text/plain": [
       "TfidfVectorizer(max_features=500, stop_words='english')"
      ]
     },
     "execution_count": 122,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "TfidfVectorizer(max_features=500, stop_words=\"english\")\n",
    "\n"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 123,
   "id": "53184648-08d7-4a37-8c51-8afc30bb3ea7",
   "metadata": {},
   "outputs": [
    {
     "name": "stdout",
     "output_type": "stream",
     "text": [
      "\n",
      "Logistic Regression\n",
      "Accuracy: 0.9146549622043404\n",
      "\n",
      "Linear SVM\n",
      "Accuracy: 0.9531821506949525\n",
      "\n",
      "Decision Tree\n",
      "Accuracy: 0.91921482565228\n",
      "\n",
      "Random Forest\n",
      "Accuracy: 0.9303828334552549\n",
      "\n",
      "KNN\n",
      "Accuracy: 0.9196537429895147\n",
      "\n",
      "Gradient Boosting\n",
      "Accuracy: 0.9502316508168739\n"
     ]
    }
   ],
   "source": [
    "from sklearn.linear_model import LogisticRegression\n",
    "from sklearn.svm import LinearSVC\n",
    "from sklearn.tree import DecisionTreeClassifier\n",
    "from sklearn.ensemble import RandomForestClassifier, GradientBoostingClassifier\n",
    "from sklearn.neighbors import KNeighborsClassifier\n",
    "\n",
    "models = {\n",
    "    \"Logistic Regression\": LogisticRegression(class_weight=\"balanced\", max_iter=1000),\n",
    "    \"Linear SVM\": LinearSVC(class_weight=\"balanced\"),\n",
    "    \"Decision Tree\": DecisionTreeClassifier(class_weight=\"balanced\", random_state=42),\n",
    "    \"Random Forest\": RandomForestClassifier(class_weight=\"balanced\", n_estimators=50, max_depth=15, random_state=42, n_jobs=-1),\n",
    "    \"KNN\": KNeighborsClassifier(n_neighbors=5),\n",
    "    \"Gradient Boosting\": GradientBoostingClassifier(random_state=42)\n",
    "}\n",
    "\n",
    "for name, model in models.items():\n",
    "    pipeline = Pipeline([\n",
    "        (\"preprocessor\", preprocessor),\n",
    "        (\"classifier\", model)\n",
    "    ])\n",
    "    pipeline.fit(X_train, y_train)\n",
    "    y_pred = pipeline.predict(X_test)\n",
    "    print(f\"\\n{name}\")\n",
    "    print(\"Accuracy:\", accuracy_score(y_test, y_pred))\n"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 124,
   "id": "5353c7b3-35ba-4590-b50d-661572ab4637",
   "metadata": {},
   "outputs": [
    {
     "name": "stdout",
     "output_type": "stream",
     "text": [
      "\n",
      "Model Accuracy Comparison:\n",
      "Logistic Regression  : 0.9147\n",
      "Linear SVM           : 0.9532\n",
      "Decision Tree        : 0.9192\n",
      "Random Forest        : 0.9304\n",
      "KNN                  : 0.9197\n",
      "Gradient Boosting    : 0.9502\n"
     ]
    }
   ],
   "source": [
    "\n",
    "results = {\n",
    "    \"Logistic Regression\": 0.9146549622043404\n",
    " ,\n",
    "    \"Linear SVM\": 0.9531821506949525\n",
    ",\n",
    "    \"Decision Tree\":0.91921482565228\n",
    " ,\n",
    "    \"Random Forest\":0.9303828334552549\n",
    " ,\n",
    "    \"KNN\": 0.9196537429895147\n",
    ",\n",
    "    \"Gradient Boosting\":  0.9502316508168739\n",
    "\n",
    "}\n",
    "\n",
    "# Print neatly\n",
    "print(\"\\nModel Accuracy Comparison:\")\n",
    "for model, acc in results.items():\n",
    "    print(f\"{model:20s} : {acc:.4f}\")\n"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 125,
   "id": "c719766f-5b96-4022-8168-3d49892e40b0",
   "metadata": {},
   "outputs": [
    {
     "data": {
      "image/png": "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li2rvF+aN28u165d06vTpUsXyZo1a7Ln1W03EaWORkTEEKGaiIgMw9XVFRqNBufPnzd0U9JMo9Ggf//+WLRokaGbQkQZBIclEBF9ASIjI3H16lXs3bsXFy9exI4dOwzdJCKiz4LhlojoC3Dp0iXUqlULNjY2mDRpUqrvNkZElNlwWAIRERERqUaGmgrsxIkTaNq0Kezs7KDRaJJNL5SSP/74Ay4uLrCwsECRIkWwbNmyz99QIiIiIsqQMlS4jY6OhrOzc6ovDLh37x4aNWqE6tWr4/Llyxg7diwGDRqEbdu2feaWEhEREVFGlGGHJWg0GuzYseO948JGjRqF3bt3690XvE+fPvjrr78+6cTcRERERJQ5ZOoLys6cOYN69erpldWvXx+rVq1CfHw8TE1Nky0TGxurd0tMrVaLZ8+ewcbGJtW3WyQiIiKi9CMiiIqKgp2d3Ttvj66TqcPt48ePYWtrq1dma2uLhIQEhIWFpXjfdx8fH0yZMiW9mkhEREREn8jDhw+T3aXxbZk63AJI1tuqG2Xxrl7YMWPGYNiwYcrfERERKFSoEB4+fIjs2bN/voYSERER0UeJjIyEvb09rKysPlg3U4fbfPny4fHjx3ploaGhMDExgY2NTYrLmJubw9zcPFl59uzZGW6JiIiIMrDUDCHNULMl/Fdubm7w8/PTKzt06BBcXV1THG9LREREROqWocLty5cvERAQgICAAABJU30FBAQgKCgIQNKQAi8vL6V+nz598ODBAwwbNgw3btzA6tWrsWrVKowYMcIQzSciIiIiA8tQwxIuXLiAWrVqKX/rxsZ26dIFvr6+CAkJUYIuADg6OmL//v0YOnQoFi9eDDs7OyxYsACtW7dO97YTERERkeFl2Hlu00tkZCSsra0RERHBMbdEREREGdB/yWsZalgCEREREVFaMNwSERERkWow3BIRERGRajDcEhEREZFqMNwSERERkWow3BIRERGRajDcEhEREZFqMNwSERERkWow3BIRERGRajDcEhEREZFqMNwSERERkWqYGLoBRIby/eUwQzch0xldPrehm0BERPReDLdERET0RWNnx8fJqB0eHJZARERERKrBcEtEREREqsFwS0RERESqwXBLRERERKrBcEtEREREqsFwS0RERESqwXBLRERERKrBeW6JiL5gnN/z42TU+T2JiD23RERERKQiDLdEREREpBoMt0RERESkGhxzS0QGw/GeH4fjPdWFn4OPw88BvQt7bomIiIhINdhzawA8Sv84PEonIiKiD2HPLRERERGpBsMtEREREakGwy0RERERqQbDLRERERGpBsMtEREREakGwy0RERERqQbDLRERERGpBsMtEREREakGwy0RERERqQbDLRERERGpBsMtEREREakGwy0RERERqQbDLRERERGpBsMtEREREakGwy0RERERqQbDLRERERGpBsMtEREREakGwy0RERERqQbDLRERERGpBsMtEREREakGwy0RERERqQbDLRERERGpBsMtEREREakGwy0RERERqQbDLRERERGpBsMtEREREakGwy0RERERqQbDLRERERGpBsMtEREREakGwy0RERERqQbDLRERERGpBsMtEREREakGwy0RERERqQbDLRERERGpBsMtEREREakGwy0RERERqQbDLRERERGpBsMtEREREakGwy0RERERqUaGC7dLliyBo6MjLCws4OLiAn9///fW37BhA5ydnZElSxbkz58f3bp1Q3h4eDq1loiIiIgykgwVbrds2YIhQ4Zg3LhxuHz5MqpXr46GDRsiKCgoxfonT56El5cXvL29ce3aNfz22284f/48evTokc4tJyIiIqKMIEOF27lz58Lb2xs9evRA6dKlMX/+fNjb22Pp0qUp1j979iwKFy6MQYMGwdHREdWqVUPv3r1x4cKFdG45EREREWUEGSbcxsXF4eLFi6hXr55eeb169XD69OkUl3F3d8ejR4+wf/9+iAiePHmCrVu3onHjxu98ntjYWERGRur9IyIiIiJ1yDDhNiwsDImJibC1tdUrt7W1xePHj1Ncxt3dHRs2bICnpyfMzMyQL18+5MiRAwsXLnzn8/j4+MDa2lr5Z29v/0m3g4iIiIgMJ8OEWx2NRqP3t4gkK9O5fv06Bg0ahIkTJ+LixYv4/fffce/ePfTp0+ed6x8zZgwiIiKUfw8fPvyk7SciIiIiwzExdAN0cufODWNj42S9tKGhocl6c3V8fHxQtWpVfPfddwCAsmXLImvWrKhevTqmT5+O/PnzJ1vG3Nwc5ubmn34DiIiIiMjgMkzPrZmZGVxcXODn56dX7ufnB3d39xSXefXqFYyM9DfB2NgYQFKPLxERERF9WTJMuAWAYcOG4eeff8bq1atx48YNDB06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zc3x5MmTZOUhISEwMflkM40REREREX1QmsNt3bp1MWbMGERERChlL168wNixY1G3bt20rp6IiIiIKNXS3LX6448/4ptvvoGDgwPKly8PAAgICICtrS1++eWXNDeQiIiIiCi10hxuCxQogCtXrmDDhg3466+/YGlpiW7duqFDhw4pznlLRERERPS5fJJBsVmzZkWvXr0+xaqIiIiIiD7aJ7vi6/r16wgKCkJcXJxeebNmzT7VUxARERERvdcnuUNZy5YtERgYCI1GAxEBAGg0GgBAYmJiWp+CiIiIiChV0jxbwuDBg+Ho6IgnT54gS5YsuHbtGk6cOAFXV1ccP378EzSRiIiIiCh10txze+bMGRw9ehR58uSBkZERjIyMUK1aNfj4+GDQoEG4fPnyp2gnEREREdEHpbnnNjExEdmyZQMA5M6dG8HBwQAABwcH/P3332ldPRERERFRqqW557ZMmTK4cuUKihQpgsqVK2P27NkwMzPDihUrUKRIkU/RRiIiIiKiVElzuB0/fjyio6MBANOnT0eTJk1QvXp12NjYYMuWLWluIBERERFRaqU53NavX1/5/yJFiuD69et49uwZcubMqcyYQERERESUHtI05jYhIQEmJia4evWqXnmuXLkYbImIiIgo3aUp3JqYmMDBwYFz2RIRERFRhpDm2RLGjx+PMWPG4NmzZ5+iPUREREREHy3NY24XLFiAf/75B3Z2dnBwcEDWrFn1Hr906VJan4KIiIiIKFXSHG5btGjxCZpBRERERJR2aQ63kyZN+hTtICIiIiJKszSPuSUiIiIiyijS3HNrZGT03mm/OJMCEREREaWXNIfbHTt26P0dHx+Py5cvY+3atZgyZUpaV09ERERElGppDrfNmzdPVtamTRt89dVX2LJlC7y9vdP6FEREREREqfLZxtxWrlwZhw8f/lyrJyIiIiJK5rOE25iYGCxcuBAFCxb8HKsnIiIiIkpRmocl5MyZU++CMhFBVFQUsmTJgvXr16d19UREREREqZbmcDtv3jy9cGtkZIQ8efKgcuXKyJkzZ1pXT0RERESUamkOt127dv0EzSAiIiIiSrs0j7lds2YNfvvtt2Tlv/32G9auXZvW1RMRERERpVqaw+3333+P3LlzJyvPmzcvZs6cmdbVExERERGlWprD7YMHD+Do6Jis3MHBAUFBQWldPRERERFRqqU53ObNmxdXrlxJVv7XX3/BxsYmrasnIiIiIkq1NIfb9u3bY9CgQTh27BgSExORmJiIo0ePYvDgwWjfvv2naCMRERERUaqkebaE6dOn48GDB/Dw8ICJSdLqtFotvLy8OOaWiIiIiNJVmsOtmZkZtmzZgunTpyMgIACWlpb4+uuv4eDg8CnaR0RERESUamkOtzrFixdH8eLFP9XqiIiIiIj+szSPuW3Tpg2+//77ZOVz5sxB27Zt07p6IiIiIqJUS3O4/eOPP9C4ceNk5Q0aNMCJEyfSunoiIiIiolRLc7h9+fIlzMzMkpWbmpoiMjIyrasnIiIiIkq1NIfbMmXKYMuWLcnKN2/eDCcnp7SunoiIiIgo1dJ8QdmECRPQunVr3LlzB7Vr1wYAHDlyBBs3bsTWrVvT3EAiIiIiotRKc7ht1qwZdu7ciZkzZ2Lr1q2wtLSEs7Mzjh49iuzZs3+KNhIRERERpconmQqscePGykVlL168wIYNGzBkyBD89ddfSExM/BRPQURERET0QWkec6tz9OhRdOrUCXZ2dli0aBEaNWqECxcufKrVExERERF9UJp6bh89egRfX1+sXr0a0dHRaNeuHeLj47Ft2zZeTEZERERE6e6je24bNWoEJycnXL9+HQsXLkRwcDAWLlz4KdtGRERERPSffHTP7aFDhzBo0CD07duXt90lIiIiogzho3tu/f39ERUVBVdXV1SuXBmLFi3C06dPP2XbiIiIiIj+k48Ot25ubli5ciVCQkLQu3dvbN68GQUKFIBWq4Wfnx+ioqI+ZTuJiIiIiD4ozbMlZMmSBd27d8fJkycRGBiI4cOH4/vvv0fevHnRrFmzT9FGIiIiIqJU+WRTgQFAyZIlMXv2bDx69AibNm36lKsmIiIiIvqgTxpudYyNjdGiRQvs3r37c6yeiIiIiChFnyXcpsWSJUvg6OgICwsLuLi4wN/fP1XLnTp1CiYmJihXrtznbSARERERZVgZKtxu2bIFQ4YMwbhx43D58mVUr14dDRs2RFBQ0HuXi4iIgJeXFzw8PNKppURERESUEWWocDt37lx4e3ujR48eKF26NObPnw97e3ssXbr0vcv17t0bHTt2hJubWzq1lIiIiIgyogwTbuPi4nDx4kXUq1dPr7xevXo4ffr0O5dbs2YN7ty5g0mTJqXqeWJjYxEZGan3j4iIiIjUIcOE27CwMCQmJsLW1lav3NbWFo8fP05xmdu3b2P06NHYsGEDTExSd7M1Hx8fWFtbK//s7e3T3HYiIiIiyhgyTLjV0Wg0en+LSLIyAEhMTETHjh0xZcoUlChRItXrHzNmDCIiIpR/Dx8+THObiYiIiChjSF13ZzrInTs3jI2Nk/XShoaGJuvNBYCoqChcuHABly9fxoABAwAAWq0WIgITExMcOnQItWvXTracubk5zM3NP89GEBEREZFBZZieWzMzM7i4uMDPz0+v3M/PD+7u7snqZ8+eHYGBgQgICFD+9enTByVLlkRAQAAqV66cXk0nIiIiogwiw/TcAsCwYcPQuXNnuLq6ws3NDStWrEBQUBD69OkDIGlIwb///ot169bByMgIZcqU0Vs+b968sLCwSFZORERERF+GDBVuPT09ER4ejqlTpyIkJARlypTB/v374eDgAAAICQn54Jy3RERERPTlylDhFgD69euHfv36pfiYr6/ve5edPHkyJk+e/OkbRURERESZQoYZc0tERERElFYMt0RERESkGgy3RERERKQaDLdEREREpBoMt0RERESkGgy3RERERKQaDLdEREREpBoMt0RERESkGgy3RERERKQaDLdEREREpBoMt0RERESkGgy3RERERKQaDLdEREREpBoMt0RERESkGgy3RERERKQaDLdEREREpBoMt0RERESkGgy3RERERKQaDLdEREREpBoMt0RERESkGgy3RERERKQaDLdEREREpBoMt0RERESkGgy3RERERKQaDLdEREREpBoMt0RERESkGgy3RERERKQaDLdEREREpBoMt0RERESkGgy3RERERKQaDLdEREREpBoMt0RERESkGgy3RERERKQaDLdEREREpBoMt0RERESkGgy3RERERKQaDLdEREREpBoMt0RERESkGgy3RERERKQaDLdEREREpBoMt0RERESkGgy3RERERKQaDLdEREREpBoMt0RERESkGgy3RERERKQaDLdEREREpBoMt0RERESkGgy3RERERKQaDLdEREREpBoMt0RERESkGgy3RERERKQaDLdEREREpBoMt0RERESkGgy3RERERKQaDLdEREREpBoMt0RERESkGgy3RERERKQaDLdEREREpBoMt0RERESkGgy3RERERKQaDLdEREREpBoMt0RERESkGgy3RERERKQaDLdEREREpBoMt0RERESkGgy3RERERKQaGS7cLlmyBI6OjrCwsICLiwv8/f3fWXf79u2oW7cu8uTJg+zZs8PNzQ0HDx5Mx9YSERERUUaSocLtli1bMGTIEIwbNw6XL19G9erV0bBhQwQFBaVY/8SJE6hbty7279+PixcvolatWmjatCkuX76czi0nIiIioowgQ4XbuXPnwtvbGz169EDp0qUxf/582NvbY+nSpSnWnz9/PkaOHImKFSuiePHimDlzJooXL449e/akc8uJiIiIKCPIMOE2Li4OFy9eRL169fTK69Wrh9OnT6dqHVqtFlFRUciVK9c768TGxiIyMlLvHxERERGpQ4YJt2FhYUhMTIStra1eua2tLR4/fpyqdfz444+Ijo5Gu3bt3lnHx8cH1tbWyj97e/s0tZuIiIiIMo4ME251NBqN3t8ikqwsJZs2bcLkyZOxZcsW5M2b9531xowZg4iICOXfw4cP09xmIiIiIsoYTAzdAJ3cuXPD2Ng4WS9taGhost7ct23ZsgXe3t747bffUKdOnffWNTc3h7m5eZrbS0REREQZT4bpuTUzM4OLiwv8/Pz0yv38/ODu7v7O5TZt2oSuXbti48aNaNy48eduJhERERFlYBmm5xYAhg0bhs6dO8PV1RVubm5YsWIFgoKC0KdPHwBJQwr+/fdfrFu3DkBSsPXy8sJPP/2EKlWqKL2+lpaWsLa2Nth2EBEREZFhZKhw6+npifDwcEydOhUhISEoU6YM9u/fDwcHBwBASEiI3py3y5cvR0JCAvr374/+/fsr5V26dIGvr296N5+IiIiIDCxDhVsA6NevH/r165fiY28H1uPHj3/+BhERERFRppFhxtwSEREREaUVwy0RERERqQbDLRERERGpBsMtEREREakGwy0RERERqQbDLRERERGpBsMtEREREakGwy0RERERqQbDLRERERGpBsMtEREREakGwy0RERERqQbDLRERERGpBsMtEREREakGwy0RERERqQbDLRERERGpBsMtEREREakGwy0RERERqQbDLRERERGpBsMtEREREakGwy0RERERqQbDLRERERGpBsMtEREREakGwy0RERERqQbDLRERERGpBsMtEREREakGwy0RERERqQbDLRERERGpBsMtEREREakGwy0RERERqQbDLRERERGpBsMtEREREakGwy0RERERqQbDLRERERGpBsMtEREREakGwy0RERERqQbDLRERERGpBsMtEREREakGwy0RERERqQbDLRERERGpBsMtEREREakGwy0RERERqQbDLRERERGpBsMtEREREakGwy0RERERqQbDLRERERGpBsMtEREREakGwy0RERERqQbDLRERERGpBsMtEREREakGwy0RERERqQbDLRERERGpBsMtEREREakGwy0RERERqQbDLRERERGpBsMtEREREakGwy0RERERqQbDLRERERGpBsMtEREREakGwy0RERERqQbDLRERERGpBsMtEREREakGwy0RERERqQbDLRERERGpBsMtEREREakGwy0RERERqQbDLRERERGpRoYLt0uWLIGjoyMsLCzg4uICf3//99b/448/4OLiAgsLCxQpUgTLli1Lp5YSERERUUaTocLtli1bMGTIEIwbNw6XL19G9erV0bBhQwQFBaVY/969e2jUqBGqV6+Oy5cvY+zYsRg0aBC2bduWzi0nIiIioowgQ4XbuXPnwtvbGz169EDp0qUxf/582NvbY+nSpSnWX7ZsGQoVKoT58+ejdOnS6NGjB7p3744ffvghnVtORERERBmBiaEboBMXF4eLFy9i9OjReuX16tXD6dOnU1zmzJkzqFevnl5Z/fr1sWrVKsTHx8PU1DTZMrGxsYiNjVX+joiIAABERkamdRNS7fXLqHR7LjWJjDT7pOvjfvjvuA8yhk+5H7gPPg73geFxHxjep/5NeP9zJeU0Eflg3QwTbsPCwpCYmAhbW1u9cltbWzx+/DjFZR4/fpxi/YSEBISFhSF//vzJlvHx8cGUKVOSldvb26eh9ZQeku81Sm/cBxkD94PhcR8YHveB4RliH0RFRcHa2vq9dTJMuNXRaDR6f4tIsrIP1U+pXGfMmDEYNmyY8rdWq8WzZ89gY2Pz3uf5EkRGRsLe3h4PHz5E9uzZDd2cLxL3QcbA/WB43AeGx31geNwH/yMiiIqKgp2d3QfrZphwmzt3bhgbGyfrpQ0NDU3WO6uTL1++FOubmJjAxsYmxWXMzc1hbm6uV5YjR46Pb7gKZc+e/Yv/EBka90HGwP1geNwHhsd9YHjcB0k+1GOrk2EuKDMzM4OLiwv8/Pz0yv38/ODu7p7iMm5ubsnqHzp0CK6urimOtyUiIiIidcsw4RYAhg0bhp9//hmrV6/G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nEznypUrUr58eaUXUCTp86J7z9++fVvq1asnZcuWlejoaPHz85PChQuLp6en7NixQ86ePSstWrSQQoUKKXe8otR7++LVa9euSVBQkPL369evpX///uLg4KCMsxVJukCsU6dOUqdOHeX7JzIyUgICAuThw4fptwFEaXD69GlxdnbWuzveq1evZPXq1cpdxfbt2yelS5eWmJgY6dKli1hZWUnfvn2Vi4lFknp358yZIxqNRu7cuZPseXgGlf6rTDGPj266ob///hsajUYpj46ORp06dfDtt98CABISEpCQkABra2u8evUKQNK0Ox+aFiR37twA3j25PX0+Tk5OWLRoEcLCwjBixAhDNyfT+frrr+Hl5YUHDx5g7dq1SrnuPV+sWDE0aNAAISEhOHr0KOrUqYN169bh9u3bmDhxIjp37gwAOH/+PDw9PQ2yDZmFvDV5PJA0nZeRkRGuXr0Kd3d3tGnTBu7u7hg3bhxu374Nc3NztGrVCo6Ojli9erWyXMGCBdG8eXM8ffoUs2bNAgBYWVnB2dkZBQsWTLdtIkqLEiVKwNnZGSdOnMDt27cBADt27MCECROwY8cOAECVKlXw6NEjZMmSBRERETh69CiWLFkCW1tbXL9+Hdu3b4dGo0Hz5s0xf/58FCxYMNlnjVN70X+VKcItALRs2RKjRo1CZGQkVq9eDU9PT2TNmhW9evWCv78/zp49i2zZssHNzQ179uxBYGAgAChh+Ndff1Xu8pPSjxTAD5ChVKlSBWZmZoZuRqbVrl072Nvb47fffsPjx49hZGQErVarHKy1bt0az58/R0REBACgevXqOHXqFI4cOYJDhw5hx44dyJs3ryE3IUPT3RXszQNr4H/fIxs3bkTLli1Rvnx57N27F7NmzcKFCxfg4+MDAKhduzaqVauGCxcuYO/evcry9evXR/369fXugEiUGWi1WsTFxcHGxgYdO3ZEQkICli5dCgDo2LEjatSogSNHjuDSpUvIlSsXOnfujJw5c2L79u1wdXUFALx+/RpLly7FyZMn8fr1axQvXhyDBg2CmZlZss8a0X+V4cOt7odl2LBh+PPPP/H1119j1KhRqFq1KgCgUaNGcHNzU26sMGvWLFhaWmL69OnYunUr/v33X+zevRtTp07F0aNHISL84JCq2NnZoUWLFggPD8eaNWsAJJ3t0B2svXz5EhYWFjA1NVWWsbCwQJ48eVC4cGFDNDlT0IVX3Zmj9evXY968eTh69Cji4uKU7xGtVotvv/0WixcvRpEiRfD06VOcPHkSv//+OzZv3gwg6QAkb968WL9+PaKjowEk9dT6+Pigbdu2Btg6oo9nZGQEMzMzPHjwAOHh4bC1tYW/vz/8/f0BJN2+PiQkBDt27IBWq0W/fv2QJUsWeHh4YNq0aVi/fj0qVqyI48ePo02bNsiaNauy7nd1PhH9J4YbEfF+b0/zsWLFCjE1NZWCBQvKmTNn9B7btWuX5MqVS9asWSMiSVfhd+nSRUxNTaV8+fKSPXt2ZRJ6IjVKaWq1hIQEiYmJkREjRki1atU4+8RH2rFjhzITRYUKFSRXrlwyfPhw5fH4+HiJjIyUq1eviqurqzg5OcmCBQukSZMmUq1aNXn9+rWIJE2/Vrx4cdmzZ4+hNoXok9BqtTJhwgQxMjKSLl26SJUqVUSj0Yi3t7cyBn3w4MFStWpVOXjwoIiIBAYGSqdOnaRmzZpSsWJF3oyEPqsMFW7fnvRcRGTjxo1y+fJlCQsLEz8/PylUqJDMnDlTuTpTJOmisj59+kjhwoWVsoSEBLly5YocOnRI7wpwTiNCaqWbWm3AgAFK2cSJE+Xrr79WLhbjFfip9/ZMFDExMfLw4UPp27evaDQavfk8ExMTpUuXLuLt7a3c1bBfv35ibm4u33//vYgkXbj65pzCRJnV33//LUWKFJGtW7cqZb1795ayZcsqdzj8559/xN3dXfr16yehoaFKvZiYGL1ZXXixGH0OBh+WsG/fPqxbtw6JiYnQaDTKqb7du3fDwcEBs2fPxr59+2BmZoY6deqgXbt22Lx5My5cuKCsw8bGBl5eXjAzM8Pw4cMBJI2f/frrr1G3bl1kyZIFCQkJAP53ipFIbWrVqoVvvvkGV65cwahRo1CyZEls3LgRCxYsUC4W45Cc1Hv48CFu3bqFdu3aoU+fPrCwsEDBggWRM2dOWFhY4OHDh0rdJ0+ewM/PD87OzsifPz/i4uIQHR2N0qVLY8uWLXj+/Dly584NFxcXA24RUeqJSLKLrOX/hwzcu3cPMTExKFq0qPLYyJEjYW9vj61bt+Lp06coWrQo2rRpg6NHj2L79u1KPXNzc1haWkKr1abqgm+ij2HwpPfbb7/B1NQUxsbGygdnz549GDZsGAYMGIAzZ85gwIABsLKyAgBMnjwZsbGx2LlzJ0JDQ5X1VKxYES1atMDx48cRGxub7HlMTEzSZ4OIDKh9+/aIjo7G0qVL4e3tjdu3b6NmzZqGblam9OZMFDt37gQALFq0CAsWLECWLFn0ZjWIiYmBi4sL9uzZgz///BMTJ05EeHg45s+fjxMnTiBnzpwG2gqi/07X2WRsbIzQ0FCcPHlS7/c2NjYWCQkJSmeRVqtFkSJFUK1aNRw/flwZa96rVy+4uLjg66+/VpbVHWAbGRnxYJs+G42IYUZvJyYmKoFWo9EoV19aWFhgwoQJOHbsGE6ePImEhASEh4fD3NwcsbGxsLW1xYoVKzBnzhwMGDAALVu2RJ8+fTBnzhwUK1YM5ubmhtgcogzj7NmzqFChAmeg+ASCg4MxZMgQPHr0COHh4dBqtfDw8EBiYiLu3LmD0qVLY+7cuTA3N8f27dsxZ84cPHz4ENbW1vD19UXFihUNvQlEH2348OHw9fVFwYIF8erVKwwePBgDBgwAANjb26NVq1b44YcflItV165di8GDB8Pe3h5r165FhQoVDNl8+oIZpOdWq9XqnYq4cOECvvnmGxw5cgRA0ryzjx49wqhRo9ChQwf06tULxYsXR7169XD//n306tUL7u7u8PX1hbOzM6KiolCgQAEl2OqGIBB9iTi12qdjZ2eH1q1bK1eE3759G8uWLcPKlSsxaNAg+Pv7o169elizZg1atWqFI0eOYP/+/bh27RqDLWUaIqLMTAQAz58/R/PmzXH+/Hls3boVZ86cQZcuXbBixQqlV3bWrFlYunQpfH19ERISgtjYWJw7dw6enp7w9vZGsWLFlPW9uW6i9JCuPbe6p9KdiggNDUXevHkRGxuLUqVKoUGDBpg9ezZevXqF5cuXY9++fahfvz7s7Ozg4uKC1q1bo0WLFliwYAEiIiJw//59mJmZoXTp0um1CUT0hYmNjcXgwYPx999/Y/78+XB2dlYee/LkCSZNmoQ1a9bg9OnTHFNLmYokXVSuDC84e/Ys7t27B09PT3z33Xfo2bMnSpUqhatXr+Lbb7/FvXv34OTkhEOHDiF79uwYNGgQfv/9dxgZGeHFixcoUqQItmzZAnt7ewNvGX3p0i3c6oYhAEk/FgsXLoS/vz98fHzg5OQEX19fTJo0CbNnz37nnZKaNGmCKlWqYPz48XrlHJhORJ/TsWPHMGXKFJQtWxYLFiwAkHSGyMTEBDExMXj9+jXH1VKGptVq33lBdWJiItasWYNhw4ZhypQpGDx4MCIiIpAzZ06MHj0aa9asgZeXF0qXLo3p06ejW7dumDBhAl6/fo0HDx7g8OHDyJEjh3K3UACcU54MKt3H3A4ePBiJiYn4888/ERISgu+++w6DBg0CkHQnHysrK8yZMwclSpSAiOD+/fuIjo6Gj48Pzp49i99++43jeIgo3U2cOBHHjh3Dd999h2bNmr03LBBlFG+HzJCQEOTJk0e5yHrz5s1YtWoVChUqhJYtW6JJkyZKXX9/fwwdOhTTp09HgwYNEBYWBmdnZ2TJkgU7d+7EV199lez53uzIIjKUdPtmjoiIQMOGDXH8+HE0aNAA7du3h5mZGTZu3IjTp08DAKZMmYKLFy/i4MGDSExMxKlTpzBr1iw0aNAAL168wB9//MFgS0QG0b59e8THx2P37t1ITExksKUM781gu23bNtStWxeDBw/GuHHj8OjRIwCAq6srjhw5gl27dilD/HRTgP31118IDg5W7gh65coVFC1aFNmzZ8fvv/+e7LkA3saeMoZPPj/Wm2N43vxghYWF4erVq1iyZIlyZOjm5oaePXti9+7dqFChAqpXr4569ephy5YtqFatGqpUqYLo6Gj07t0b5cuXB8CjQiIyDCcnJ/z444+oVKkSv4MoU9BoNLh79y66deuGv//+GyNGjECJEiWQJ08eFCxYECKCYsWKYeTIkVi0aBHCwsJQtGhR5f2dK1cu2NraYuzYsahevTp++OEHtGrVCl5eXrCzs0v2XEQZxScdlvBm8IyLi9O7Ynv//v3w9vbGH3/8oQw50Gg06NevHw4fPoz58+ejUaNGePToEYoXL46xY8di7Nixyvp0V3PyR4WIiOjDXr58iU6dOsHS0hKzZ8/Wu9ArJiYGgYGBqFSpErRaLXLlyoWePXti6tSpsLS0BACEh4dj1apV2LBhAyIiIuDt7Y0JEyYo6+DQHMqoPum7Uhc8J02ahCZNmqBXr17Ytm0bAKBOnTqIiIjA8ePHAfzvtEefPn1w7949bN++HSEhIShYsCD27NmDMWPG6AVZ3YTSRERE9GG7du3C0aNH0a9fP72bjsyaNQuFChXCuHHjcPXqVRgZGWHGjBlYunQpLl++rNSzsbHByJEjcfDgQdy8eVMJtrqpvRhsKaP6pO/M4OBgVKpUCdu3b0f9+vVx69Yt9O7dGz/88APMzMzQv39/TJ48GU+fPlUGs589exbFihXDjRs3cOLECQBJQdjExIRz4xEREX2kP//8E/b29qhevboybKBfv35YunQpvLy88Pz5c+zduxcA0L9/fxQuXBgLFixAeHg4gP+No82XLx8sLCyQmJioN3UYUUaV6nfo26MXUhrNcPLkScTHx2Pv3r0YPnw4Dhw4gDFjxmDSpEm4c+cOJk2aBEtLS7Rp0wY//vgjduzYgQ0bNmDGjBmIjIxEYGCg3rr5ASIiIvo4Dx48gIWFBYKDg5WyGTNm4MaNG/jxxx9Rvnx5/PHHHzh69CgAYMGCBfj1119x/vx5AMnH0RobG3NsLWUKqU6PGo0GsbGxOHbsmPL3265evYro6Gg4ODgAACwtLTFgwAAUL14c06ZNQ7Zs2bBnzx4UK1YMq1atQv/+/VGjRg20atUK+fLlw6VLl965biIiIkq9unXr4tq1a7h165ZSZm1trVwP07dvXwQEBMDPzw9xcXGoXbs2tm7digYNGhiqyUSfRKrDbUJCAoYOHYohQ4bg5s2bAJLfUi9XrlywsrLClStXlMfNzc3h6emJwMBAREVFwcnJCatWrcKJEydw7949TJ06Fbdv30ZwcDC6d+/+CTeNiIjoy6XrOFq8eLHSe2tkZKR3/YqjoyM8PDyUwNuqVSsAKZ+dJcosUh1uTUxM0LhxY9jY2GD16tVJC///sAHdh8DZ2RmWlpbYvn273uNXr15FoUKFYGVlpQRiCwsLXLp0CVOmTEHNmjVRtGhR1KxZ85NtGBER0Zcsf/78mDRpErZt24YpU6bgxYsXePXqFZ4/f45Vq1bB09MTZcuWhaura7JleQaVMrP/NM9t48aNceLECZw8eRJHjhyBh4eH3lQgtWrVgru7O7Zu3QoA6NSpEx48eICAgAD06tULwP8Cb2JiIgIDA7F//37MmTMHHTt2/JTbRURE9MXTzXG7evVq+Pr6okyZMjAyMsK9e/cwc+ZM5beZSE3+8zy3AQEBGD16NPLmzYvVq1frzWpgZGSEJ0+eYPv27Rg1ahQcHBzw4MEDDBw4EDNmzEi2rujoaGTNmvXTbAkRERElIyL4999/sXfvXiQmJsLMzAw9e/ZUHud8taQ2H3UTh7lz5+LXX39Fv3794OXlpXcnstDQUGTNmhUJCQm4du0aSpUqhVy5cgHgB4iIiCi9vfkb/aaEhARlWk4iNfmopNm+fXsUKlQIv/76K548eQKNRoOIiAjMnTsXFStWxMqVK2FtbQ13d3fkypWLc+MREREZSErBVkQYbEm1Pvr2uxs3bsTixYvRtGlTVKlSBQMHDkRQUBBmzpyJ/v37f+p2EhERERF90EeH29jYWAwePBhr1qxBfHw8+vXrh0WLFimPcwgCEREREaW3jz4nYW5ujnbt2iFHjhzo168fChUqBOB/Y3gYbImIiIgovX10z+3bEhMTYWRkxLnxiIiIiMhgPslocq1Wq3fHEyIiIiIiQ/hkPbdERERERIbGgbFEREREpBoMt0RERESkGgy3RERERKQaDLdEREREpBoMt0RERESkGgy3RERERKQaDLdEREREpBoMt0RERESkGgy3RERERKQa/wdOyRrDJo3/gAAAAABJRU5ErkJggg==",
      "text/plain": [
       "<Figure size 800x500 with 1 Axes>"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    }
   ],
   "source": [
    "import matplotlib.pyplot as plt\n",
    "\n",
    "models = list(results.keys())\n",
    "accuracies = list(results.values())\n",
    "\n",
    "plt.figure(figsize=(8,5))\n",
    "plt.bar(models, accuracies, color=\"skyblue\")\n",
    "plt.xticks(rotation=30, ha=\"right\")\n",
    "plt.ylabel(\"Accuracy\")\n",
    "plt.title(\"Model Accuracy Comparison\")\n",
    "plt.show()\n"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 126,
   "id": "28729e42-a81f-4b9a-81da-92d55745ddf9",
   "metadata": {},
   "outputs": [
    {
     "name": "stdout",
     "output_type": "stream",
     "text": [
      "Best parameters: {'C': 0.1}\n",
      "Best CV accuracy: 0.9531818636088267\n"
     ]
    }
   ],
   "source": [
    "from sklearn.model_selection import GridSearchCV\n",
    "from sklearn.svm import LinearSVC\n",
    "\n",
    "# Define parameter grid\n",
    "param_grid = {\n",
    "    \"C\": [0.01, 0.1, 1, 10]\n",
    "}\n",
    "\n",
    "# Grid search with cross-validation\n",
    "grid = GridSearchCV(\n",
    "    LinearSVC(class_weight=\"balanced\", max_iter=5000),\n",
    "    param_grid,\n",
    "    cv=5,\n",
    "    scoring=\"accuracy\",\n",
    "    n_jobs=-1\n",
    ")\n",
    "\n",
    "grid.fit(preprocessor.fit_transform(X_train), y_train)\n",
    "\n",
    "print(\"Best parameters:\", grid.best_params_)\n",
    "print(\"Best CV accuracy:\", grid.best_score_)\n"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 128,
   "id": "228ce5fe-8034-4d25-9c69-22be0e3324f9",
   "metadata": {},
   "outputs": [
    {
     "name": "stdout",
     "output_type": "stream",
     "text": [
      "Cross‑validated accuracy: 0.9345425900140072\n"
     ]
    }
   ],
   "source": [
    "from sklearn.svm import LinearSVC\n",
    "from sklearn.model_selection import cross_val_score\n",
    "\n",
    "# Define your best model explicitly\n",
    "best_model = LinearSVC(class_weight=\"balanced\", max_iter=5000)\n",
    "\n",
    "# Transform features once using your preprocessor\n",
    "X_processed = preprocessor.fit_transform(X)\n",
    "\n",
    "# Perform cross-validation\n",
    "scores = cross_val_score(best_model, X_processed, y, cv=5, scoring=\"accuracy\")\n",
    "\n",
    "print(\"Cross‑validated accuracy:\", scores.mean())"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 130,
   "id": "02285e11-62b2-47f9-bc7e-94b21d90a231",
   "metadata": {},
   "outputs": [
    {
     "name": "stdout",
     "output_type": "stream",
     "text": [
      "Model saved successfully!\n"
     ]
    }
   ],
   "source": [
    "import joblib\n",
    "\n",
    "# Assuming 'pipeline' is your trained Linear SVM pipeline\n",
    "joblib.dump(pipeline, \"svm_sentiment_model.pkl\")\n",
    "\n",
    "print(\"Model saved successfully!\")\n"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 133,
   "id": "373dd4fd-a8d6-4b44-9512-e47619a2bffc",
   "metadata": {},
   "outputs": [
    {
     "name": "stdout",
     "output_type": "stream",
     "text": [
      "SVM Accuracy: 0.9531821506949525\n"
     ]
    }
   ],
   "source": [
    "from sklearn.svm import LinearSVC\n",
    "from sklearn.pipeline import Pipeline\n",
    "\n",
    "pipeline = Pipeline([\n",
    "    (\"preprocessor\", preprocessor),\n",
    "    (\"classifier\", LinearSVC(class_weight=\"balanced\", max_iter=5000))\n",
    "])\n",
    "\n",
    "pipeline.fit(X_train, y_train)\n",
    "y_pred = pipeline.predict(X_test)\n",
    "\n",
    "print(\"SVM Accuracy:\", accuracy_score(y_test, y_pred))\n"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 134,
   "id": "719f70a4-2c0e-4e16-8d59-8c22f787c578",
   "metadata": {},
   "outputs": [
    {
     "name": "stdout",
     "output_type": "stream",
     "text": [
      "Review: The product quality was amazing and delivery was fast\n",
      "Predicted Sentiment: positive\n",
      "--------------------------------------------------\n",
      "Review: Worst product ever, totally disappointed\n",
      "Predicted Sentiment: negative\n",
      "--------------------------------------------------\n",
      "Review: It’s okay, nothing special but not too bad either\n",
      "Predicted Sentiment: neutral\n",
      "--------------------------------------------------\n"
     ]
    }
   ],
   "source": [
    "import pandas as pd\n",
    "\n",
    "# Example test reviews\n",
    "sample_reviews = [\n",
    "    \"The product quality was amazing and delivery was fast\",\n",
    "    \"Worst product ever, totally disappointed\",\n",
    "    \"It’s okay, nothing special but not too bad either\"\n",
    "]\n",
    "\n",
    "# Build a DataFrame with all required columns\n",
    "# Fill other columns with dummy values\n",
    "test_df = pd.DataFrame({\n",
    "    \"Review\": sample_reviews,\n",
    "    \"Summary\": [\"\"] * len(sample_reviews),          # empty summary\n",
    "    \"product_price\": [0] * len(sample_reviews),     # dummy price\n",
    "    \"product_name\": [\"demo_product\"] * len(sample_reviews)  # dummy product name\n",
    "})\n",
    "\n",
    "# Predict\n",
    "predictions = pipeline.predict(test_df)\n",
    "\n",
    "for review, sentiment in zip(sample_reviews, predictions):\n",
    "    print(f\"Review: {review}\")\n",
    "    print(f\"Predicted Sentiment: {sentiment}\")\n",
    "    print(\"-\" * 50)"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 135,
   "id": "b53e29da-b843-42b5-9556-30ed72c913d0",
   "metadata": {},
   "outputs": [
    {
     "name": "stdout",
     "output_type": "stream",
     "text": [
      "Review: The product quality was amazing and delivery was fast\n",
      "Predicted Sentiment: positive\n",
      "--------------------------------------------------\n",
      "Review: Worst product ever, totally disappointed\n",
      "Predicted Sentiment: negative\n",
      "--------------------------------------------------\n",
      "Review: It’s okay, nothing special but not too bad either\n",
      "Predicted Sentiment: neutral\n",
      "--------------------------------------------------\n"
     ]
    }
   ],
   "source": [
    "import pandas as pd\n",
    "\n",
    "# Example test reviews\n",
    "sample_reviews = [\n",
    "    \"The product quality was amazing and delivery was fast\",\n",
    "    \"Worst product ever, totally disappointed\",\n",
    "    \"It’s okay, nothing special but not too bad either\"\n",
    "]\n",
    "\n",
    "# Build a DataFrame with the same columns used during training\n",
    "# Fill other columns with dummy values\n",
    "test_df = pd.DataFrame({\n",
    "    \"Review\": sample_reviews,\n",
    "    \"Summary\": [\"\"] * len(sample_reviews),          # empty summary\n",
    "    \"product_price\": [0] * len(sample_reviews),     # dummy price\n",
    "    \"product_name\": [\"demo_product\"] * len(sample_reviews)  # dummy product name\n",
    "})\n",
    "\n",
    "# Predict using your trained pipeline\n",
    "predictions = pipeline.predict(test_df)\n",
    "\n",
    "# Show results\n",
    "for review, sentiment in zip(sample_reviews, predictions):\n",
    "    print(f\"Review: {review}\")\n",
    "    print(f\"Predicted Sentiment: {sentiment}\")\n",
    "    print(\"-\" * 50)\n"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 138,
   "id": "46bcebe9-3ad0-4533-b0da-cac8b601cebd",
   "metadata": {},
   "outputs": [
    {
     "name": "stdout",
     "output_type": "stream",
     "text": [
      "SVM Accuracy: 0.952401853206535\n",
      "\n",
      "Classification Report:\n",
      "               precision    recall  f1-score   support\n",
      "\n",
      "    negative       0.93      0.93      0.93      5558\n",
      "     neutral       0.77      0.79      0.78      3320\n",
      "    positive       0.98      0.97      0.97     32132\n",
      "\n",
      "    accuracy                           0.95     41010\n",
      "   macro avg       0.89      0.90      0.89     41010\n",
      "weighted avg       0.95      0.95      0.95     41010\n",
      "\n",
      "Model saved as svm_sentiment_model.pkl\n"
     ]
    }
   ],
   "source": [
    "import pandas as pd\n",
    "import joblib\n",
    "from sklearn.model_selection import train_test_split\n",
    "from sklearn.feature_extraction.text import TfidfVectorizer\n",
    "from sklearn.preprocessing import OneHotEncoder, StandardScaler\n",
    "from sklearn.compose import ColumnTransformer\n",
    "from sklearn.pipeline import Pipeline\n",
    "from sklearn.svm import LinearSVC\n",
    "from sklearn.metrics import accuracy_score, classification_report\n",
    "\n",
    "# --- Step 1: Clean dataset ---\n",
    "df[\"Review\"] = df[\"Review\"].fillna(\"\").astype(str)\n",
    "df[\"Summary\"] = df[\"Summary\"].fillna(\"\").astype(str)\n",
    "df[\"product_name\"] = df[\"product_name\"].fillna(\"\").astype(str)\n",
    "df[\"Rate\"] = pd.to_numeric(df[\"Rate\"], errors=\"coerce\")\n",
    "df[\"product_price\"] = pd.to_numeric(df[\"product_price\"], errors=\"coerce\")\n",
    "df = df.dropna(subset=[\"Rate\", \"product_price\"])\n",
    "\n",
    "# --- Step 2: Map ratings into sentiment labels ---\n",
    "def rating_to_sentiment(rating):\n",
    "    if rating <= 2:\n",
    "        return \"negative\"\n",
    "    elif rating == 3:\n",
    "        return \"neutral\"\n",
    "    else:\n",
    "        return \"positive\"\n",
    "\n",
    "df[\"sentiment\"] = df[\"Rate\"].apply(rating_to_sentiment)\n",
    "\n",
    "# --- Step 3: Features ---\n",
    "X = df[[\"Review\", \"Summary\", \"product_price\", \"product_name\"]]\n",
    "y = df[\"sentiment\"]\n",
    "\n",
    "X_train, X_test, y_train, y_test = train_test_split(\n",
    "    X, y, test_size=0.2, random_state=42, stratify=y\n",
    ")\n",
    "\n",
    "# --- Step 4: Preprocessor ---\n",
    "preprocessor = ColumnTransformer(\n",
    "    transformers=[\n",
    "        (\"review_tfidf\", TfidfVectorizer(max_features=1000, stop_words=\"english\"), \"Review\"),\n",
    "        (\"summary_tfidf\", TfidfVectorizer(max_features=300, stop_words=\"english\"), \"Summary\"),\n",
    "        (\"product_name_ohe\", OneHotEncoder(handle_unknown=\"ignore\"), [\"product_name\"]),\n",
    "        (\"numeric\", StandardScaler(), [\"product_price\"])\n",
    "    ]\n",
    ")\n",
    "\n",
    "# --- Step 5: Build SVM pipeline ---\n",
    "pipeline = Pipeline([\n",
    "    (\"preprocessor\", preprocessor),\n",
    "    (\"classifier\", LinearSVC(class_weight=\"balanced\", max_iter=5000))\n",
    "])\n",
    "\n",
    "# --- Step 6: Train & Evaluate ---\n",
    "pipeline.fit(X_train, y_train)\n",
    "y_pred = pipeline.predict(X_test)\n",
    "\n",
    "print(\"SVM Accuracy:\", accuracy_score(y_test, y_pred))\n",
    "print(\"\\nClassification Report:\\n\", classification_report(y_test, y_pred))\n",
    "\n",
    "# --- Step 7: Save the model ---\n",
    "joblib.dump(pipeline, \"svm_sentiment_model.pkl\")\n",
    "print(\"Model saved as svm_sentiment_model.pkl\")"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 139,
   "id": "3f0b5e7b-394f-40cf-97b4-10f574a2cf73",
   "metadata": {},
   "outputs": [
    {
     "name": "stdout",
     "output_type": "stream",
     "text": [
      "Review: The product quality was amazing and delivery was fast\n",
      "Predicted Sentiment: positive\n",
      "--------------------------------------------------\n",
      "Review: Worst product ever, totally disappointed\n",
      "Predicted Sentiment: negative\n",
      "--------------------------------------------------\n",
      "Review: It’s okay, nothing special but not too bad either\n",
      "Predicted Sentiment: neutral\n",
      "--------------------------------------------------\n"
     ]
    }
   ],
   "source": [
    "import joblib\n",
    "import pandas as pd\n",
    "\n",
    "# Load the saved pipeline\n",
    "pipeline = joblib.load(\"svm_sentiment_model.pkl\")\n",
    "\n",
    "# Example reviews\n",
    "sample_reviews = [\n",
    "    \"The product quality was amazing and delivery was fast\",\n",
    "    \"Worst product ever, totally disappointed\",\n",
    "    \"It’s okay, nothing special but not too bad either\"\n",
    "]\n",
    "\n",
    "# Build DataFrame with required columns\n",
    "test_df = pd.DataFrame({\n",
    "    \"Review\": sample_reviews,\n",
    "    \"Summary\": [\"\"] * len(sample_reviews),          # dummy summary\n",
    "    \"product_price\": [0] * len(sample_reviews),     # dummy price\n",
    "    \"product_name\": [\"demo_product\"] * len(sample_reviews)  # dummy product name\n",
    "})\n",
    "\n",
    "# Predict\n",
    "predictions = pipeline.predict(test_df)\n",
    "\n",
    "for review, sentiment in zip(sample_reviews, predictions):\n",
    "    print(f\"Review: {review}\")\n",
    "    print(f\"Predicted Sentiment: {sentiment}\")\n",
    "    print(\"-\" * 50)"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 142,
   "id": "be97f541-af18-4aa5-bc8b-81d8ffba5680",
   "metadata": {},
   "outputs": [
    {
     "name": "stdout",
     "output_type": "stream",
     "text": [
      "Predicted Sentiment: positive\n"
     ]
    }
   ],
   "source": [
    "import joblib\n",
    "\n",
    "# Load the saved SVM pipeline\n",
    "pipeline = joblib.load(\"svm_sentiment_model.pkl\")\n",
    "\n",
    "# Quick test\n",
    "sample_review = {\n",
    "    \"Review\": [\"The product quality was amazing and delivery was fast\"],\n",
    "    \"Summary\": [\"\"],\n",
    "    \"product_price\": [0],\n",
    "    \"product_name\": [\"demo_product\"]\n",
    "}\n",
    "\n",
    "import pandas as pd\n",
    "test_df = pd.DataFrame(sample_review)\n",
    "\n",
    "print(\"Predicted Sentiment:\", pipeline.predict(test_df)[0])\n"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 144,
   "id": "7fc38ac9-a6b0-4635-bbb9-ab4408feae55",
   "metadata": {},
   "outputs": [
    {
     "name": "stdout",
     "output_type": "stream",
     "text": [
      "Model saved successfully as svm_sentiment_model.pkl\n"
     ]
    }
   ],
   "source": [
    "import cloudpickle\n",
    "\n",
    "# assuming your trained pipeline is stored in a variable called `pipeline`\n",
    "with open(\"svm_sentiment_model.pkl\", \"wb\") as f:\n",
    "    cloudpickle.dump(pipeline, f)\n",
    "\n",
    "print(\"Model saved successfully as svm_sentiment_model.pkl\")\n"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "id": "8cb66d80-eccd-48e6-ab5b-229e10ea747f",
   "metadata": {},
   "outputs": [],
   "source": []
  }
 ],
 "metadata": {
  "kernelspec": {
   "display_name": "Python 3 (ipykernel)",
   "language": "python",
   "name": "python3"
  },
  "language_info": {
   "codemirror_mode": {
    "name": "ipython",
    "version": 3
   },
   "file_extension": ".py",
   "mimetype": "text/x-python",
   "name": "python",
   "nbconvert_exporter": "python",
   "pygments_lexer": "ipython3",
   "version": "3.13.5"
  }
 },
 "nbformat": 4,
 "nbformat_minor": 5
}
